# –õ–æ–∫–∞–ª—å–Ω–æ–µ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ - –°—Ç–∞—Ç—É—Å

## –î–∞—Ç–∞: 2025-10-27

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö MySQL ‚Üí PostgreSQL**

    - –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ 10 –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≠–¢–û–ù–û–í–û
    - –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ 29 –∑–∞–ø–∏—Å–µ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
    - 29 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–∫–ª–∞–¥–æ–≤
    - –í—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã –∏–º–µ—é—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Å–∫–ª–∞–¥–∞–º

2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL**

    - ‚úÖ `dim_products` - —Å –ø–æ–ª—è–º–∏ `ozon_visibility`, `visibility`, `ozon_status`
    - ‚úÖ `inventory` - —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ —Å–∫–ª–∞–¥–∞–º
    - ‚úÖ `etl_execution_log` - –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è ETL
    - ‚úÖ `etl_workflow_executions` - –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è workflow
    - ‚úÖ `data_quality_metrics` - –¥–ª—è –º–µ—Ç—Ä–∏–∫ –∫–∞—á–µ—Å—Ç–≤–∞
    - ‚úÖ `warehouse_sales_metrics` - –¥–ª—è –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–¥–∞–∂

3. **–ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö**
    ```
    SKU: 161875313 - –õ–∞–ø—à–∞ –≠–¢–û–ù–û–í–û —Ä–∏—Å–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è 300–≥
    –°–∫–ª–∞–¥—ã: –í–û–†–û–ù–ï–ñ_–ú–†–§–¶ (12), –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥_–†–§–¶_–ù–û–í–´–ô (17),
            –ù–ï–í–ò–ù–ù–û–ú–´–°–°–ö_–†–§–¶ (16), –û–†–ï–ù–ë–£–†–ì_–†–§–¶ (7), –°–ê–ú–ê–†–ê_–†–§–¶ (7)
    ```

### üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é ETL**

    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `src/ETL/Ozon/Config/etl_config.php`
    - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
    - –î–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏ Ozon (–µ—Å–ª–∏ –µ—Å—Ç—å)

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Health Check**

    ```bash
    php src/ETL/Ozon/Scripts/etl_health_check.php
    ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π ETL workflow**

    ```bash
    php src/ETL/Ozon/Scripts/run_etl_workflow.php --dry-run --verbose
    ```

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—à–±–æ—Ä–¥**
    - –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
    - –û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥ —Å –¥–∞–Ω–Ω—ã–º–∏

### üóÑÔ∏è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

| –ú–µ—Ç—Ä–∏–∫–∞               | –ó–Ω–∞—á–µ–Ω–∏–µ  |
| --------------------- | --------- |
| –ü—Ä–æ–¥—É–∫—Ç—ã              | 10        |
| –ó–∞–ø–∏—Å–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è      | 29        |
| –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–∫–ª–∞–¥—ã     | 29        |
| –ü—Ä–æ–¥—É–∫—Ç—ã —Å –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º | 10 (100%) |

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL 14.16  
**–ò–º—è –ë–î:** mi_core_db  
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** vladimirbragin  
**–•–æ—Å—Ç:** localhost

### ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

-   MySQL –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)
-   –ü–æ–ª–µ `visibility` –ø—É—Å—Ç–æ–µ - –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ ProductETL
-   –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
