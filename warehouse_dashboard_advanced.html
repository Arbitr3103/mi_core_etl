<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∫–ª–∞–¥–æ–≤ - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è</title>
    <link rel="stylesheet" href="dashboard_styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div class="header">
      <h1>üè™ –î–∞—à–±–æ—Ä–¥ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∫–ª–∞–¥–æ–≤</h1>
      <div class="subtitle">
        –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—é ‚Ä¢
        <span id="lastUpdate">–ó–∞–≥—Ä—É–∑–∫–∞...</span> ‚Ä¢
        <span id="connectionStatus" class="status-indicator"
          >üîÑ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span
        >
      </div>
    </div>

    <div class="container">
      <!-- Loading Overlay -->
      <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
      </div>

      <!-- Summary Cards -->
      <div class="dashboard-grid" id="summaryCards">
        <!-- Cards will be populated by JavaScript -->
      </div>

      <!-- Activity Statistics -->
      <div class="activity-stats-section" id="activityStatsSection">
        <div class="stats-card">
          <div class="stats-header">
            <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–æ–≤</h3>
            <div class="stats-filter-indicator" id="statsFilterIndicator">
              –ü–æ–∫–∞–∑–∞–Ω—ã: –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
            </div>
          </div>
          <div class="stats-grid" id="activityStatsGrid">
            <!-- Stats will be populated by JavaScript -->
          </div>
        </div>
      </div>

      <!-- Real-time Alerts -->
      <div id="alertsSection" class="alerts-section" style="display: none">
        <div class="alert-header">
          <span>üö®</span>
          <div class="alert-title">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
          <button class="alert-close" onclick="closeAlerts()">√ó</button>
        </div>
        <div id="alertsList" class="alerts-list"></div>
      </div>

      <!-- Filters and Controls -->
      <div class="controls-section">
        <!-- Activity Filter Section -->
        <div class="activity-filter-section">
          <div class="filter-group">
            <div class="filter-label">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤:</div>
            <div class="activity-filters">
              <button class="activity-filter-btn active" data-activity="active">
                ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ
              </button>
              <button class="activity-filter-btn" data-activity="inactive">
                ‚ùå –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ
              </button>
              <button class="activity-filter-btn" data-activity="all">
                üìã –í—Å–µ —Ç–æ–≤–∞—Ä—ã
              </button>
            </div>
          </div>
        </div>

        <!-- Warehouse Status Filters -->
        <div class="warehouse-filter-section">
          <div class="filter-group">
            <div class="filter-label">–°—Ç–∞—Ç—É—Å —Å–∫–ª–∞–¥–æ–≤:</div>
            <div class="filters">
              <button class="filter-btn active" data-filter="all">
                –í—Å–µ —Å–∫–ª–∞–¥—ã
              </button>
              <button class="filter-btn" data-filter="critical">
                –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ
              </button>
              <button class="filter-btn" data-filter="warning">
                –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è
              </button>
              <button class="filter-btn" data-filter="normal">
                –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ
              </button>
              <button class="filter-btn" data-filter="excess">
                –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ
              </button>
            </div>
          </div>
        </div>

        <div class="controls">
          <button class="control-btn" onclick="refreshData()">
            üîÑ –û–±–Ω–æ–≤–∏—Ç—å
          </button>
          <button class="control-btn" onclick="toggleAutoRefresh()">
            ‚è±Ô∏è –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
          </button>
          <select id="refreshInterval" class="control-select">
            <option value="30">30 —Å–µ–∫</option>
            <option value="60" selected>1 –º–∏–Ω</option>
            <option value="300">5 –º–∏–Ω</option>
            <option value="600">10 –º–∏–Ω</option>
          </select>
        </div>
      </div>

      <!-- Warehouses Grid -->
      <div class="warehouse-grid" id="warehousesGrid">
        <!-- Warehouse cards will be populated by JavaScript -->
      </div>

      <!-- Charts Section -->
      <div class="charts-section">
        <div class="chart-container">
          <div class="chart-header">
            <div class="chart-title">üìä –û—Å—Ç–∞—Ç–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏ –ø–æ —Å–∫–ª–∞–¥–∞–º</div>
            <div class="chart-controls">
              <button class="chart-btn active" data-chart="bar">–°—Ç–æ–ª–±—Ü—ã</button>
              <button class="chart-btn" data-chart="line">–õ–∏–Ω–∏–∏</button>
            </div>
          </div>
          <canvas id="salesChart"></canvas>
        </div>

        <div class="chart-container">
          <div class="chart-header">
            <div class="chart-title">üéØ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏</div>
          </div>
          <canvas id="distributionChart"></canvas>
        </div>
      </div>

      <!-- Export and Actions -->
      <div class="export-section">
        <button class="export-btn primary" onclick="exportProcurementOrder()">
          üõí –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ
        </button>
        <button class="export-btn" onclick="exportReport('excel')">
          üìä Excel
        </button>
        <button class="export-btn" onclick="exportReport('pdf')">üìÑ PDF</button>
        <button class="export-btn" onclick="printReport()">üñ®Ô∏è –ü–µ—á–∞—Ç—å</button>
      </div>
    </div>

    <div class="footer">
      <p>–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∫–ª–∞–¥–æ–≤ ‚Ä¢ –î–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
      <p>–í–µ—Ä—Å–∏—è 2.0 ‚Ä¢ API —Å—Ç–∞—Ç—É—Å: <span id="apiStatus">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span></p>
    </div>

    <script src="dashboard_script.js"></script>
  </body>
</html>
