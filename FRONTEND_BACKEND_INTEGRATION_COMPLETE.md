# ‚úÖ Frontend-Backend –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ó–∞–≤–µ—Ä—à–µ–Ω–∞

## –î–∞—Ç–∞: 2025-10-27 21:47

### üéØ –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

1. **404 –æ—à–∏–±–∫–∏ –Ω–∞ API endpoints**

    - Frontend –æ–±—Ä–∞—â–∞–ª—Å—è –∫ `/inventory/detailed-stock`
    - PHP –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª —Ä–æ—É—Ç–∏–Ω–≥ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–æ–≤

2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç –≤ Vite proxy**

    - Vite –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–ª –Ω–∞ `localhost:8080`
    - Backend —Ä–∞–±–æ—Ç–∞–ª –Ω–∞ `localhost:8000`

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ action –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
    - Frontend –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `?action=warehouses` –∏ `?action=summary`
    - API –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

#### 1. –°–æ–∑–¥–∞–Ω Router –¥–ª—è PHP —Å–µ—Ä–≤–µ—Ä–∞

```php
// api/router.php
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–æ—É—Ç–∏–Ω–≥ –¥–ª—è –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–æ–≤
```

#### 2. –û–±–Ω–æ–≤–ª–µ–Ω detailed-stock.php

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π:

-   **`action=list`** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
-   **`action=warehouses`** - —Å–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
-   **`action=summary`** - –æ–±—â–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—é

#### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω Vite proxy

```typescript
// frontend/vite.config.ts
target: "http://localhost:8000"; // –±—ã–ª–æ 8080
```

#### 4. –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ã —Å–µ—Ä–≤–∏—Å—ã

-   PHP —Å–µ—Ä–≤–µ—Ä —Å router: `php -S localhost:8000 -t api api/router.php`
-   Frontend dev server: `npm run dev`

### üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç   | URL                    | –°—Ç–∞—Ç—É—Å      |
| ----------- | ---------------------- | ----------- |
| Frontend    | http://localhost:5173/ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Backend API | http://localhost:8000/ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Router      | api/router.php         | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω  |

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API:

#### Summary Endpoint

```bash
curl "http://localhost:8000/inventory/detailed-stock?action=summary"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

-   10 –ø—Ä–æ–¥—É–∫—Ç–æ–≤
-   29 —Å–∫–ª–∞–¥–æ–≤
-   355 –µ–¥–∏–Ω–∏—Ü –¥–æ—Å—Ç—É–ø–Ω–æ
-   21 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å
-   7 –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å

#### Warehouses Endpoint

```bash
curl "http://localhost:8000/inventory/detailed-stock?action=warehouses"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 29 —Å–∫–ª–∞–¥–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

#### List Endpoint

```bash
curl "http://localhost:8000/inventory/detailed-stock?limit=10"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ —Å–∫–ª–∞–¥–∞–º

### üìà –õ–æ–≥–∏ Frontend (—É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã):

```
Sending Request to the Target: GET /api/inventory/detailed-stock?sortBy=daysOfStock&sortOrder=asc&limit=1000&offset=0&active_only=true
Received Response from the Target: 200 /api/inventory/detailed-stock?sortBy=daysOfStock&sortOrder=asc&limit=1000&offset=0&active_only=true

Sending Request to the Target: GET /api/inventory/detailed-stock?action=warehouses
Received Response from the Target: 200 /api/inventory/detailed-stock?action=warehouses
```

### üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:** http://localhost:5173/

–î–∞—à–±–æ—Ä–¥ —Ç–µ–ø–µ—Ä—å:

-   ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ—à–∏–±–æ–∫
-   ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≠–¢–û–ù–û–í–û
-   ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–∞–∑–±–∏–≤–∫—É –ø–æ 29 —Å–∫–ª–∞–¥–∞–º
-   ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
-   ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —É—Ä–æ–≤–Ω—è–º –∑–∞–ø–∞—Å–æ–≤

### üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

```bash
# Backend (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
php -S localhost:8000 -t api api/router.php

# Frontend (–≤ –ø–∞–ø–∫–µ frontend)
cd frontend && npm run dev
```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç  
**–í—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** ~15 –º–∏–Ω—É—Ç  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ
