var je=e=>{throw TypeError(e)};var pe=(e,t,s)=>t.has(e)||je("Cannot "+s);var r=(e,t,s)=>(pe(e,t,"read from private field"),s?s.call(e):t.get(e)),g=(e,t,s)=>t.has(e)?je("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),f=(e,t,s,i)=>(pe(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),O=(e,t,s)=>(pe(e,t,"access private method"),s);var re=(e,t,s,i)=>({set _(n){f(e,t,n,s)},get _(){return r(e,t,i)}});var cs={exports:{}},ds={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(m,E){var P=m.length;m.push(E);t:for(;0<P;){var k=P-1>>>1,j=m[k];if(0<n(j,E))m[k]=E,m[P]=j,P=k;else break t}}function s(m){return m.length===0?null:m[0]}function i(m){if(m.length===0)return null;var E=m[0],P=m.pop();if(P!==E){m[0]=P;t:for(var k=0,j=m.length,se=j>>>1;k<se;){var ie=2*(k+1)-1,fe=m[ie],bt=ie+1,ne=m[bt];if(0>n(fe,P))bt<j&&0>n(ne,fe)?(m[k]=ne,m[bt]=P,k=bt):(m[k]=fe,m[ie]=P,k=ie);else if(bt<j&&0>n(ne,P))m[k]=ne,m[bt]=P,k=bt;else break t}}return E}function n(m,E){var P=m.sortIndex-E.sortIndex;return P!==0?P:m.id-E.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],h=[],d=1,c=null,p=3,w=!1,M=!1,v=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function y(m){for(var E=s(h);E!==null;){if(E.callback===null)i(h);else if(E.startTime<=m)i(h),E.sortIndex=E.expirationTime,t(u,E);else break;E=s(h)}}function T(m){if(v=!1,y(m),!M)if(s(u)!==null)M=!0,A||(A=!0,B());else{var E=s(h);E!==null&&de(T,E.startTime-m)}}var A=!1,K=-1,Q=5,G=-1;function I(){return b?!0:!(e.unstable_now()-G<Q)}function U(){if(b=!1,A){var m=e.unstable_now();G=m;var E=!0;try{t:{M=!1,v&&(v=!1,C(K),K=-1),w=!0;var P=p;try{e:{for(y(m),c=s(u);c!==null&&!(c.expirationTime>m&&I());){var k=c.callback;if(typeof k=="function"){c.callback=null,p=c.priorityLevel;var j=k(c.expirationTime<=m);if(m=e.unstable_now(),typeof j=="function"){c.callback=j,y(m),E=!0;break e}c===s(u)&&i(u),y(m)}else i(u);c=s(u)}if(c!==null)E=!0;else{var se=s(h);se!==null&&de(T,se.startTime-m),E=!1}}break t}finally{c=null,p=P,w=!1}E=void 0}}finally{E?B():A=!1}}}var B;if(typeof F=="function")B=function(){F(U)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Fs=vt.port2;vt.port1.onmessage=U,B=function(){Fs.postMessage(null)}}else B=function(){S(U,0)};function de(m,E){K=S(function(){m(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(m){m.callback=null},e.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<m?Math.floor(1e3/m):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(m){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var P=p;p=E;try{return m()}finally{p=P}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(m,E){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var P=p;p=m;try{return E()}finally{p=P}},e.unstable_scheduleCallback=function(m,E,P){var k=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?k+P:k):P=k,m){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=P+j,m={id:d++,callback:E,priorityLevel:m,startTime:P,expirationTime:j,sortIndex:-1},P>k?(m.sortIndex=P,t(h,m),s(u)===null&&m===s(h)&&(v?(C(K),K=-1):v=!0,de(T,P-k))):(m.sortIndex=j,t(u,m),M||w||(M=!0,A||(A=!0,B()))),m},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(m){var E=p;return function(){var P=p;p=E;try{return m.apply(this,arguments)}finally{p=P}}}})(ds);cs.exports=ds;var Ei=cs.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},Gt.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const ze="popstate";function Ri(e){e===void 0&&(e={});function t(i,n){let{pathname:a,search:l,hash:o}=i.location;return ye("",{pathname:a,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(i,n){return typeof n=="string"?n:ps(n)}return xs(t,s,null,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Is(){return Math.random().toString(36).substr(2,8)}function _e(e,t){return{usr:e.state,key:e.key,idx:t}}function ye(e,t,s,i){return s===void 0&&(s=null),Gt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ce(t):t,{state:s,key:t&&t.key||i||Is()})}function ps(e){let{pathname:t="/",search:s="",hash:i=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ce(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function xs(e,t,s,i){i===void 0&&(i={});let{window:n=document.defaultView,v5Compat:a=!1}=i,l=n.history,o=Dt.Pop,u=null,h=d();h==null&&(h=0,l.replaceState(Gt({},l.state,{idx:h}),""));function d(){return(l.state||{idx:null}).idx}function c(){o=Dt.Pop;let b=d(),S=b==null?null:b-h;h=b,u&&u({action:o,location:v.location,delta:S})}function p(b,S){o=Dt.Push;let C=ye(v.location,b,S);h=d()+1;let F=_e(C,h),y=v.createHref(C);try{l.pushState(F,"",y)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;n.location.assign(y)}a&&u&&u({action:o,location:v.location,delta:1})}function w(b,S){o=Dt.Replace;let C=ye(v.location,b,S);h=d();let F=_e(C,h),y=v.createHref(C);l.replaceState(F,"",y),a&&u&&u({action:o,location:v.location,delta:0})}function M(b){let S=n.location.origin!=="null"?n.location.origin:n.location.href,C=typeof b=="string"?b:ps(b);return C=C.replace(/ $/,"%20"),At(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let v={get action(){return o},get location(){return e(n,l)},listen(b){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(ze,c),u=b,()=>{n.removeEventListener(ze,c),u=null}},createHref(b){return t(n,b)},createURL:M,encodeLocation(b){let S=M(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:w,go(b){return l.go(b)}};return v}var Ue;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ue||(Ue={}));function Fi(e,t,s){return s===void 0&&(s="/"),Ts(e,t,s)}function Ts(e,t,s,i){let n=typeof t=="string"?ce(t):t,a=Bs(n.pathname||"/",s);if(a==null)return null;let l=ms(e);Ds(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let h=Hs(a);o=qs(l[u],h)}return o}function ms(e,t,s,i){t===void 0&&(t=[]),s===void 0&&(s=[]),i===void 0&&(i="");let n=(a,l,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(At(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=oe([i,u.relativePath]),d=s.concat(u);a.children&&a.children.length>0&&(At(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),ms(a.children,t,d,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:Us(h,a.index),routesMeta:d})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))n(a,l);else for(let u of ys(a.path))n(a,l,u)}),t}function ys(e){let t=e.split("/");if(t.length===0)return[];let[s,...i]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(i.length===0)return n?[a,""]:[a];let l=ys(i.join("/")),o=[];return o.push(...l.map(u=>u===""?a:[a,u].join("/"))),n&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Ds(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Ls(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}const As=/^:[\w-]+$/,ks=3,Qs=2,js=1,zs=10,_s=-2,Le=e=>e==="*";function Us(e,t){let s=e.split("/"),i=s.length;return s.some(Le)&&(i+=_s),t&&(i+=Qs),s.filter(n=>!Le(n)).reduce((n,a)=>n+(As.test(a)?ks:a===""?js:zs),i)}function Ls(e,t){return e.length===t.length&&e.slice(0,-1).every((i,n)=>i===t[n])?e[e.length-1]-t[t.length-1]:0}function qs(e,t,s){let{routesMeta:i}=e,n={},a="/",l=[];for(let o=0;o<i.length;++o){let u=i[o],h=o===i.length-1,d=a==="/"?t:t.slice(a.length)||"/",c=Ks({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),p=u.route;if(!c)return null;Object.assign(n,c.params),l.push({params:n,pathname:oe([a,c.pathname]),pathnameBase:Gs(oe([a,c.pathnameBase])),route:p}),c.pathnameBase!=="/"&&(a=oe([a,c.pathnameBase]))}return l}function Ks(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,i]=Ws(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],l=a.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:i.reduce((h,d,c)=>{let{paramName:p,isOptional:w}=d;if(p==="*"){let v=o[c]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const M=o[c];return w&&!M?h[p]=void 0:h[p]=(M||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:e}}function Ws(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),fs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),i]}function Hs(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fs(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=e.charAt(s);return i&&i!=="/"?null:e.slice(s)||"/"}function $s(e,t){t===void 0&&(t="/");let{pathname:s,search:i="",hash:n=""}=typeof e=="string"?ce(e):e;return{pathname:s?s.startsWith("/")?s:Ns(s,t):t,search:Js(i),hash:Ys(n)}}function Ns(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function me(e,t,s,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vs(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Ii(e,t){let s=Vs(e);return t?s.map((i,n)=>n===s.length-1?i.pathname:i.pathnameBase):s.map(i=>i.pathnameBase)}function xi(e,t,s,i){i===void 0&&(i=!1);let n;typeof e=="string"?n=ce(e):(n=Gt({},e),At(!n.pathname||!n.pathname.includes("?"),me("?","pathname","search",n)),At(!n.pathname||!n.pathname.includes("#"),me("#","pathname","hash",n)),At(!n.search||!n.search.includes("#"),me("#","search","hash",n)));let a=e===""||n.pathname==="",l=a?"/":n.pathname,o;if(l==null)o=s;else{let c=t.length-1;if(!i&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),c-=1;n.pathname=p.join("/")}o=c>=0?t[c]:"/"}let u=$s(n,o),h=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const oe=e=>e.join("/").replace(/\/\/+/g,"/"),Gs=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Js=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ys=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ti(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gs=["post","put","patch","delete"];new Set(gs);const Zs=["get",...gs];new Set(Zs);var Nt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xs={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},lt,Te,ts,ti=(ts=class{constructor(){g(this,lt,Xs);g(this,Te,!1)}setTimeoutProvider(e){f(this,lt,e)}setTimeout(e,t){return r(this,lt).setTimeout(e,t)}clearTimeout(e){r(this,lt).clearTimeout(e)}setInterval(e,t){return r(this,lt).setInterval(e,t)}clearInterval(e){r(this,lt).clearInterval(e)}},lt=new WeakMap,Te=new WeakMap,ts),wt=new ti;function ei(e){setTimeout(e,0)}var $t=typeof window>"u"||"Deno"in globalThis;function N(){}function si(e,t){return typeof e=="function"?e(t):e}function ge(e){return typeof e=="number"&&e>=0&&e!==1/0}function vs(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gt(e,t){return typeof e=="function"?e(t):e}function V(e,t){return typeof e=="function"?e(t):e}function qe(e,t){const{type:s="all",exact:i,fetchStatus:n,predicate:a,queryKey:l,stale:o}=e;if(l){if(i){if(t.queryHash!==De(l,t.options))return!1}else if(!Jt(t.queryKey,l))return!1}if(s!=="all"){const u=t.isActive();if(s==="active"&&!u||s==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||a&&!a(t))}function Ke(e,t){const{exact:s,status:i,predicate:n,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(xt(t.options.mutationKey)!==xt(a))return!1}else if(!Jt(t.options.mutationKey,a))return!1}return!(i&&t.state.status!==i||n&&!n(t))}function De(e,t){return((t==null?void 0:t.queryKeyHashFn)||xt)(e)}function xt(e){return JSON.stringify(e,(t,s)=>ve(s)?Object.keys(s).sort().reduce((i,n)=>(i[n]=s[n],i),{}):s)}function Jt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Jt(e[s],t[s])):!1}var ii=Object.prototype.hasOwnProperty;function bs(e,t){if(e===t)return e;const s=We(e)&&We(t);if(!s&&!(ve(e)&&ve(t)))return t;const n=(s?e:Object.keys(e)).length,a=s?t:Object.keys(t),l=a.length,o=s?new Array(l):{};let u=0;for(let h=0;h<l;h++){const d=s?h:a[h],c=e[d],p=t[d];if(c===p){o[d]=c,(s?h<n:ii.call(e,d))&&u++;continue}if(c===null||p===null||typeof c!="object"||typeof p!="object"){o[d]=p;continue}const w=bs(c,p);o[d]=w,w===c&&u++}return n===l&&u===n?e:o}function ue(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function We(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ve(e){if(!He(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!He(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function He(e){return Object.prototype.toString.call(e)==="[object Object]"}function ni(e){return new Promise(t=>{wt.setTimeout(t,e)})}function be(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?bs(e,t):t}function ri(e,t,s=0){const i=[...e,t];return s&&i.length>s?i.slice(1):i}function ai(e,t,s=0){const i=[t,...e];return s&&i.length>s?i.slice(0,-1):i}var Ae=Symbol();function ws(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ae?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Di(e,t){return typeof e=="function"?e(...t):!!e}var St,ut,kt,es,oi=(es=class extends Nt{constructor(){super();g(this,St);g(this,ut);g(this,kt);f(this,kt,t=>{if(!$t&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){r(this,ut)||this.setEventListener(r(this,kt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,ut))==null||t.call(this),f(this,ut,void 0))}setEventListener(t){var s;f(this,kt,t),(s=r(this,ut))==null||s.call(this),f(this,ut,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){r(this,St)!==t&&(f(this,St,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof r(this,St)=="boolean"?r(this,St):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},St=new WeakMap,ut=new WeakMap,kt=new WeakMap,es),ke=new oi;function we(){let e,t;const s=new Promise((n,a)=>{e=n,t=a});s.status="pending",s.catch(()=>{});function i(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{i({status:"fulfilled",value:n}),e(n)},s.reject=n=>{i({status:"rejected",reason:n}),t(n)},s}var li=ei;function ui(){let e=[],t=0,s=o=>{o()},i=o=>{o()},n=li;const a=o=>{t?e.push(o):n(()=>{s(o)})},l=()=>{const o=e;e=[],o.length&&n(()=>{i(()=>{o.forEach(u=>{s(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||l()}return u},batchCalls:o=>(...u)=>{a(()=>{o(...u)})},schedule:a,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{i=o},setScheduler:o=>{n=o}}}var _=ui(),Qt,ht,jt,ss,hi=(ss=class extends Nt{constructor(){super();g(this,Qt,!0);g(this,ht);g(this,jt);f(this,jt,t=>{if(!$t&&window.addEventListener){const s=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",i)}}})}onSubscribe(){r(this,ht)||this.setEventListener(r(this,jt))}onUnsubscribe(){var t;this.hasListeners()||((t=r(this,ht))==null||t.call(this),f(this,ht,void 0))}setEventListener(t){var s;f(this,jt,t),(s=r(this,ht))==null||s.call(this),f(this,ht,t(this.setOnline.bind(this)))}setOnline(t){r(this,Qt)!==t&&(f(this,Qt,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return r(this,Qt)}},Qt=new WeakMap,ht=new WeakMap,jt=new WeakMap,ss),he=new hi;function ci(e){return Math.min(1e3*2**e,3e4)}function Ss(e){return(e??"online")==="online"?he.isOnline():!0}var Se=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Os(e){let t=!1,s=0,i;const n=we(),a=()=>n.status!=="pending",l=v=>{var b;if(!a()){const S=new Se(v);p(S),(b=e.onCancel)==null||b.call(e,S)}},o=()=>{t=!0},u=()=>{t=!1},h=()=>ke.isFocused()&&(e.networkMode==="always"||he.isOnline())&&e.canRun(),d=()=>Ss(e.networkMode)&&e.canRun(),c=v=>{a()||(i==null||i(),n.resolve(v))},p=v=>{a()||(i==null||i(),n.reject(v))},w=()=>new Promise(v=>{var b;i=S=>{(a()||h())&&v(S)},(b=e.onPause)==null||b.call(e)}).then(()=>{var v;i=void 0,a()||(v=e.onContinue)==null||v.call(e)}),M=()=>{if(a())return;let v;const b=s===0?e.initialPromise:void 0;try{v=b??e.fn()}catch(S){v=Promise.reject(S)}Promise.resolve(v).then(c).catch(S=>{var A;if(a())return;const C=e.retry??($t?0:3),F=e.retryDelay??ci,y=typeof F=="function"?F(s,S):F,T=C===!0||typeof C=="number"&&s<C||typeof C=="function"&&C(s,S);if(t||!T){p(S);return}s++,(A=e.onFail)==null||A.call(e,s,S),ni(y).then(()=>h()?void 0:w()).then(()=>{t?p(S):M()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(i==null||i(),n),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?M():w().then(M),n)}}var Ot,is,Cs=(is=class{constructor(){g(this,Ot)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ge(this.gcTime)&&f(this,Ot,wt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($t?1/0:5*60*1e3))}clearGcTimeout(){r(this,Ot)&&(wt.clearTimeout(r(this,Ot)),f(this,Ot,void 0))}},Ot=new WeakMap,is),Ct,zt,$,Pt,z,Yt,Mt,J,et,ns,di=(ns=class extends Cs{constructor(t){super();g(this,J);g(this,Ct);g(this,zt);g(this,$);g(this,Pt);g(this,z);g(this,Yt);g(this,Mt);f(this,Mt,!1),f(this,Yt,t.defaultOptions),this.setOptions(t.options),this.observers=[],f(this,Pt,t.client),f(this,$,r(this,Pt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,f(this,Ct,Be(this.options)),this.state=t.state??r(this,Ct),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=r(this,z))==null?void 0:t.promise}setOptions(t){if(this.options={...r(this,Yt),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Be(this.options);s.data!==void 0&&(this.setData(s.data,{updatedAt:s.dataUpdatedAt,manual:!0}),f(this,Ct,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&r(this,$).remove(this)}setData(t,s){const i=be(this.state.data,t,this.options);return O(this,J,et).call(this,{data:i,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),i}setState(t,s){O(this,J,et).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var i,n;const s=(i=r(this,z))==null?void 0:i.promise;return(n=r(this,z))==null||n.cancel(t),s?s.then(N).catch(N):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(r(this,Ct))}isActive(){return this.observers.some(t=>V(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ae||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>gt(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!vs(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=r(this,z))==null||s.continue()}onOnline(){var s;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=r(this,z))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),r(this,$).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(r(this,z)&&(r(this,Mt)?r(this,z).cancel({revert:!0}):r(this,z).cancelRetry()),this.scheduleGc()),r(this,$).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||O(this,J,et).call(this,{type:"invalidate"})}async fetch(t,s){var u,h,d,c,p,w,M,v,b,S,C,F;if(this.state.fetchStatus!=="idle"&&((u=r(this,z))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(r(this,z))return r(this,z).continueRetry(),r(this,z).promise}if(t&&this.setOptions(t),!this.options.queryFn){const y=this.observers.find(T=>T.options.queryFn);y&&this.setOptions(y.options)}const i=new AbortController,n=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(f(this,Mt,!0),i.signal)})},a=()=>{const y=ws(this.options,s),A=(()=>{const K={client:r(this,Pt),queryKey:this.queryKey,meta:this.meta};return n(K),K})();return f(this,Mt,!1),this.options.persister?this.options.persister(y,A,this):y(A)},o=(()=>{const y={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:r(this,Pt),state:this.state,fetchFn:a};return n(y),y})();(h=this.options.behavior)==null||h.onFetch(o,this),f(this,zt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&O(this,J,et).call(this,{type:"fetch",meta:(c=o.fetchOptions)==null?void 0:c.meta}),f(this,z,Os({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,onCancel:y=>{y instanceof Se&&y.revert&&this.setState({...r(this,zt),fetchStatus:"idle"}),i.abort()},onFail:(y,T)=>{O(this,J,et).call(this,{type:"failed",failureCount:y,error:T})},onPause:()=>{O(this,J,et).call(this,{type:"pause"})},onContinue:()=>{O(this,J,et).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const y=await r(this,z).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(w=(p=r(this,$).config).onSuccess)==null||w.call(p,y,this),(v=(M=r(this,$).config).onSettled)==null||v.call(M,y,this.state.error,this),y}catch(y){if(y instanceof Se){if(y.silent)return r(this,z).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw O(this,J,et).call(this,{type:"error",error:y}),(S=(b=r(this,$).config).onError)==null||S.call(b,y,this),(F=(C=r(this,$).config).onSettled)==null||F.call(C,this.state.data,y,this),y}finally{this.scheduleGc()}}},Ct=new WeakMap,zt=new WeakMap,$=new WeakMap,Pt=new WeakMap,z=new WeakMap,Yt=new WeakMap,Mt=new WeakMap,J=new WeakSet,et=function(t){const s=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Ps(i.data,this.options),fetchMeta:t.meta??null};case"success":const n={...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return f(this,zt,t.manual?n:void 0),n;case"error":const a=t.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=s(this.state),_.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),r(this,$).notify({query:this,type:"updated",action:t})})},ns);function Ps(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ss(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Be(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,i=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var W,R,Zt,L,Et,_t,st,ct,Xt,Ut,Lt,Rt,Ft,dt,qt,x,Vt,Oe,Ce,Pe,Me,Ee,Re,Fe,Ms,rs,Ai=(rs=class extends Nt{constructor(t,s){super();g(this,x);g(this,W);g(this,R);g(this,Zt);g(this,L);g(this,Et);g(this,_t);g(this,st);g(this,ct);g(this,Xt);g(this,Ut);g(this,Lt);g(this,Rt);g(this,Ft);g(this,dt);g(this,qt,new Set);this.options=s,f(this,W,t),f(this,ct,null),f(this,st,we()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,R).addObserver(this),$e(r(this,R),this.options)?O(this,x,Vt).call(this):this.updateResult(),O(this,x,Me).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ie(r(this,R),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ie(r(this,R),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,O(this,x,Ee).call(this),O(this,x,Re).call(this),r(this,R).removeObserver(this)}setOptions(t){const s=this.options,i=r(this,R);if(this.options=r(this,W).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof V(this.options.enabled,r(this,R))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");O(this,x,Fe).call(this),r(this,R).setOptions(this.options),s._defaulted&&!ue(this.options,s)&&r(this,W).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,R),observer:this});const n=this.hasListeners();n&&Ne(r(this,R),i,this.options,s)&&O(this,x,Vt).call(this),this.updateResult(),n&&(r(this,R)!==i||V(this.options.enabled,r(this,R))!==V(s.enabled,r(this,R))||gt(this.options.staleTime,r(this,R))!==gt(s.staleTime,r(this,R)))&&O(this,x,Oe).call(this);const a=O(this,x,Ce).call(this);n&&(r(this,R)!==i||V(this.options.enabled,r(this,R))!==V(s.enabled,r(this,R))||a!==r(this,dt))&&O(this,x,Pe).call(this,a)}getOptimisticResult(t){const s=r(this,W).getQueryCache().build(r(this,W),t),i=this.createResult(s,t);return pi(this,i)&&(f(this,L,i),f(this,_t,this.options),f(this,Et,r(this,R).state)),i}getCurrentResult(){return r(this,L)}trackResult(t,s){return new Proxy(t,{get:(i,n)=>(this.trackProp(n),s==null||s(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&r(this,st).status==="pending"&&r(this,st).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,n))})}trackProp(t){r(this,qt).add(t)}getCurrentQuery(){return r(this,R)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=r(this,W).defaultQueryOptions(t),i=r(this,W).getQueryCache().build(r(this,W),s);return i.fetch().then(()=>this.createResult(i,s))}fetch(t){return O(this,x,Vt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,L)))}createResult(t,s){var G;const i=r(this,R),n=this.options,a=r(this,L),l=r(this,Et),o=r(this,_t),h=t!==i?t.state:r(this,Zt),{state:d}=t;let c={...d},p=!1,w;if(s._optimisticResults){const I=this.hasListeners(),U=!I&&$e(t,s),B=I&&Ne(t,i,s,n);(U||B)&&(c={...c,...Ps(d.data,t.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:M,errorUpdatedAt:v,status:b}=c;w=c.data;let S=!1;if(s.placeholderData!==void 0&&w===void 0&&b==="pending"){let I;a!=null&&a.isPlaceholderData&&s.placeholderData===(o==null?void 0:o.placeholderData)?(I=a.data,S=!0):I=typeof s.placeholderData=="function"?s.placeholderData((G=r(this,Lt))==null?void 0:G.state.data,r(this,Lt)):s.placeholderData,I!==void 0&&(b="success",w=be(a==null?void 0:a.data,I,s),p=!0)}if(s.select&&w!==void 0&&!S)if(a&&w===(l==null?void 0:l.data)&&s.select===r(this,Xt))w=r(this,Ut);else try{f(this,Xt,s.select),w=s.select(w),w=be(a==null?void 0:a.data,w,s),f(this,Ut,w),f(this,ct,null)}catch(I){f(this,ct,I)}r(this,ct)&&(M=r(this,ct),w=r(this,Ut),v=Date.now(),b="error");const C=c.fetchStatus==="fetching",F=b==="pending",y=b==="error",T=F&&C,A=w!==void 0,Q={status:b,fetchStatus:c.fetchStatus,isPending:F,isSuccess:b==="success",isError:y,isInitialLoading:T,isLoading:T,data:w,dataUpdatedAt:c.dataUpdatedAt,error:M,errorUpdatedAt:v,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>h.dataUpdateCount||c.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!F,isLoadingError:y&&!A,isPaused:c.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:y&&A,isStale:Qe(t,s),refetch:this.refetch,promise:r(this,st),isEnabled:V(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=vt=>{Q.status==="error"?vt.reject(Q.error):Q.data!==void 0&&vt.resolve(Q.data)},U=()=>{const vt=f(this,st,Q.promise=we());I(vt)},B=r(this,st);switch(B.status){case"pending":t.queryHash===i.queryHash&&I(B);break;case"fulfilled":(Q.status==="error"||Q.data!==B.value)&&U();break;case"rejected":(Q.status!=="error"||Q.error!==B.reason)&&U();break}}return Q}updateResult(){const t=r(this,L),s=this.createResult(r(this,R),this.options);if(f(this,Et,r(this,R).state),f(this,_t,this.options),r(this,Et).data!==void 0&&f(this,Lt,r(this,R)),ue(s,t))return;f(this,L,s);const i=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!r(this,qt).size)return!0;const l=new Set(a??r(this,qt));return this.options.throwOnError&&l.add("error"),Object.keys(r(this,L)).some(o=>{const u=o;return r(this,L)[u]!==t[u]&&l.has(u)})};O(this,x,Ms).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&O(this,x,Me).call(this)}},W=new WeakMap,R=new WeakMap,Zt=new WeakMap,L=new WeakMap,Et=new WeakMap,_t=new WeakMap,st=new WeakMap,ct=new WeakMap,Xt=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,Rt=new WeakMap,Ft=new WeakMap,dt=new WeakMap,qt=new WeakMap,x=new WeakSet,Vt=function(t){O(this,x,Fe).call(this);let s=r(this,R).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(N)),s},Oe=function(){O(this,x,Ee).call(this);const t=gt(this.options.staleTime,r(this,R));if($t||r(this,L).isStale||!ge(t))return;const i=vs(r(this,L).dataUpdatedAt,t)+1;f(this,Rt,wt.setTimeout(()=>{r(this,L).isStale||this.updateResult()},i))},Ce=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,R)):this.options.refetchInterval)??!1},Pe=function(t){O(this,x,Re).call(this),f(this,dt,t),!($t||V(this.options.enabled,r(this,R))===!1||!ge(r(this,dt))||r(this,dt)===0)&&f(this,Ft,wt.setInterval(()=>{(this.options.refetchIntervalInBackground||ke.isFocused())&&O(this,x,Vt).call(this)},r(this,dt)))},Me=function(){O(this,x,Oe).call(this),O(this,x,Pe).call(this,O(this,x,Ce).call(this))},Ee=function(){r(this,Rt)&&(wt.clearTimeout(r(this,Rt)),f(this,Rt,void 0))},Re=function(){r(this,Ft)&&(wt.clearInterval(r(this,Ft)),f(this,Ft,void 0))},Fe=function(){const t=r(this,W).getQueryCache().build(r(this,W),this.options);if(t===r(this,R))return;const s=r(this,R);f(this,R,t),f(this,Zt,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Ms=function(t){_.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(r(this,L))}),r(this,W).getQueryCache().notify({query:r(this,R),type:"observerResultsUpdated"})})},rs);function fi(e,t){return V(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $e(e,t){return fi(e,t)||e.state.data!==void 0&&Ie(e,t,t.refetchOnMount)}function Ie(e,t,s){if(V(t.enabled,e)!==!1&&gt(t.staleTime,e)!=="static"){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&Qe(e,t)}return!1}function Ne(e,t,s,i){return(e!==t||V(i.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Qe(e,s)}function Qe(e,t){return V(t.enabled,e)!==!1&&e.isStaleByTime(gt(t.staleTime,e))}function pi(e,t){return!ue(e.getCurrentResult(),t)}function Ve(e){return{onFetch:(t,s)=>{var d,c,p,w,M;const i=t.options,n=(p=(c=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:c.fetchMore)==null?void 0:p.direction,a=((w=t.state.data)==null?void 0:w.pages)||[],l=((M=t.state.data)==null?void 0:M.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const h=async()=>{let v=!1;const b=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},S=ws(t.options,t.fetchOptions),C=async(F,y,T)=>{if(v)return Promise.reject();if(y==null&&F.pages.length)return Promise.resolve(F);const K=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:y,direction:T?"backward":"forward",meta:t.options.meta};return b(U),U})(),Q=await S(K),{maxPages:G}=t.options,I=T?ai:ri;return{pages:I(F.pages,Q,G),pageParams:I(F.pageParams,y,G)}};if(n&&a.length){const F=n==="backward",y=F?mi:Ge,T={pages:a,pageParams:l},A=y(i,T);o=await C(T,A,F)}else{const F=e??a.length;do{const y=u===0?l[0]??i.initialPageParam:Ge(i,o);if(u>0&&y==null)break;o=await C(o,y),u++}while(u<F)}return o};t.options.persister?t.fetchFn=()=>{var v,b;return(b=(v=t.options).persister)==null?void 0:b.call(v,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=h}}}function Ge(e,{pages:t,pageParams:s}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,s[i],s):void 0}function mi(e,{pages:t,pageParams:s}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,s[0],s):void 0}var te,Z,q,It,X,ot,as,yi=(as=class extends Cs{constructor(t){super();g(this,X);g(this,te);g(this,Z);g(this,q);g(this,It);f(this,te,t.client),this.mutationId=t.mutationId,f(this,q,t.mutationCache),f(this,Z,[]),this.state=t.state||Es(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){r(this,Z).includes(t)||(r(this,Z).push(t),this.clearGcTimeout(),r(this,q).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){f(this,Z,r(this,Z).filter(s=>s!==t)),this.scheduleGc(),r(this,q).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){r(this,Z).length||(this.state.status==="pending"?this.scheduleGc():r(this,q).remove(this))}continue(){var t;return((t=r(this,It))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,o,u,h,d,c,p,w,M,v,b,S,C,F,y,T,A,K,Q,G;const s=()=>{O(this,X,ot).call(this,{type:"continue"})},i={client:r(this,te),meta:this.options.meta,mutationKey:this.options.mutationKey};f(this,It,Os({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(new Error("No mutationFn found")),onFail:(I,U)=>{O(this,X,ot).call(this,{type:"failed",failureCount:I,error:U})},onPause:()=>{O(this,X,ot).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,q).canRun(this)}));const n=this.state.status==="pending",a=!r(this,It).canStart();try{if(n)s();else{O(this,X,ot).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(l=r(this,q).config).onMutate)==null?void 0:o.call(l,t,this,i));const U=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,t,i));U!==this.state.context&&O(this,X,ot).call(this,{type:"pending",context:U,variables:t,isPaused:a})}const I=await r(this,It).start();return await((c=(d=r(this,q).config).onSuccess)==null?void 0:c.call(d,I,t,this.state.context,this,i)),await((w=(p=this.options).onSuccess)==null?void 0:w.call(p,I,t,this.state.context,i)),await((v=(M=r(this,q).config).onSettled)==null?void 0:v.call(M,I,null,this.state.variables,this.state.context,this,i)),await((S=(b=this.options).onSettled)==null?void 0:S.call(b,I,null,t,this.state.context,i)),O(this,X,ot).call(this,{type:"success",data:I}),I}catch(I){try{throw await((F=(C=r(this,q).config).onError)==null?void 0:F.call(C,I,t,this.state.context,this,i)),await((T=(y=this.options).onError)==null?void 0:T.call(y,I,t,this.state.context,i)),await((K=(A=r(this,q).config).onSettled)==null?void 0:K.call(A,void 0,I,this.state.variables,this.state.context,this,i)),await((G=(Q=this.options).onSettled)==null?void 0:G.call(Q,void 0,I,t,this.state.context,i)),I}finally{O(this,X,ot).call(this,{type:"error",error:I})}}finally{r(this,q).runNext(this)}}},te=new WeakMap,Z=new WeakMap,q=new WeakMap,It=new WeakMap,X=new WeakSet,ot=function(t){const s=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),_.batch(()=>{r(this,Z).forEach(i=>{i.onMutationUpdate(t)}),r(this,q).notify({mutation:this,type:"updated",action:t})})},as);function Es(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var it,Y,ee,os,gi=(os=class extends Nt{constructor(t={}){super();g(this,it);g(this,Y);g(this,ee);this.config=t,f(this,it,new Set),f(this,Y,new Map),f(this,ee,0)}build(t,s,i){const n=new yi({client:t,mutationCache:this,mutationId:++re(this,ee)._,options:t.defaultMutationOptions(s),state:i});return this.add(n),n}add(t){r(this,it).add(t);const s=ae(t);if(typeof s=="string"){const i=r(this,Y).get(s);i?i.push(t):r(this,Y).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(r(this,it).delete(t)){const s=ae(t);if(typeof s=="string"){const i=r(this,Y).get(s);if(i)if(i.length>1){const n=i.indexOf(t);n!==-1&&i.splice(n,1)}else i[0]===t&&r(this,Y).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=ae(t);if(typeof s=="string"){const i=r(this,Y).get(s),n=i==null?void 0:i.find(a=>a.state.status==="pending");return!n||n===t}else return!0}runNext(t){var i;const s=ae(t);if(typeof s=="string"){const n=(i=r(this,Y).get(s))==null?void 0:i.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_.batch(()=>{r(this,it).forEach(t=>{this.notify({type:"removed",mutation:t})}),r(this,it).clear(),r(this,Y).clear()})}getAll(){return Array.from(r(this,it))}find(t){const s={exact:!0,...t};return this.getAll().find(i=>Ke(s,i))}findAll(t={}){return this.getAll().filter(s=>Ke(t,s))}notify(t){_.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return _.batch(()=>Promise.all(t.map(s=>s.continue().catch(N))))}},it=new WeakMap,Y=new WeakMap,ee=new WeakMap,os);function ae(e){var t;return(t=e.options.scope)==null?void 0:t.id}var nt,ft,H,rt,at,le,xe,ls,ki=(ls=class extends Nt{constructor(t,s){super();g(this,at);g(this,nt);g(this,ft);g(this,H);g(this,rt);f(this,nt,t),this.setOptions(s),this.bindMethods(),O(this,at,le).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var i;const s=this.options;this.options=r(this,nt).defaultMutationOptions(t),ue(this.options,s)||r(this,nt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,H),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&xt(s.mutationKey)!==xt(this.options.mutationKey)?this.reset():((i=r(this,H))==null?void 0:i.state.status)==="pending"&&r(this,H).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=r(this,H))==null||t.removeObserver(this)}onMutationUpdate(t){O(this,at,le).call(this),O(this,at,xe).call(this,t)}getCurrentResult(){return r(this,ft)}reset(){var t;(t=r(this,H))==null||t.removeObserver(this),f(this,H,void 0),O(this,at,le).call(this),O(this,at,xe).call(this)}mutate(t,s){var i;return f(this,rt,s),(i=r(this,H))==null||i.removeObserver(this),f(this,H,r(this,nt).getMutationCache().build(r(this,nt),this.options)),r(this,H).addObserver(this),r(this,H).execute(t)}},nt=new WeakMap,ft=new WeakMap,H=new WeakMap,rt=new WeakMap,at=new WeakSet,le=function(){var s;const t=((s=r(this,H))==null?void 0:s.state)??Es();f(this,ft,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},xe=function(t){_.batch(()=>{var s,i,n,a,l,o,u,h;if(r(this,rt)&&this.hasListeners()){const d=r(this,ft).variables,c=r(this,ft).context,p={client:r(this,nt),meta:this.options.meta,mutationKey:this.options.mutationKey};(t==null?void 0:t.type)==="success"?((i=(s=r(this,rt)).onSuccess)==null||i.call(s,t.data,d,c,p),(a=(n=r(this,rt)).onSettled)==null||a.call(n,t.data,null,d,c,p)):(t==null?void 0:t.type)==="error"&&((o=(l=r(this,rt)).onError)==null||o.call(l,t.error,d,c,p),(h=(u=r(this,rt)).onSettled)==null||h.call(u,void 0,t.error,d,c,p))}this.listeners.forEach(d=>{d(r(this,ft))})})},ls),tt,us,vi=(us=class extends Nt{constructor(t={}){super();g(this,tt);this.config=t,f(this,tt,new Map)}build(t,s,i){const n=s.queryKey,a=s.queryHash??De(n,s);let l=this.get(a);return l||(l=new di({client:t,queryKey:n,queryHash:a,options:t.defaultQueryOptions(s),state:i,defaultOptions:t.getQueryDefaults(n)}),this.add(l)),l}add(t){r(this,tt).has(t.queryHash)||(r(this,tt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=r(this,tt).get(t.queryHash);s&&(t.destroy(),s===t&&r(this,tt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){_.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return r(this,tt).get(t)}getAll(){return[...r(this,tt).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(i=>qe(s,i))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(i=>qe(t,i)):s}notify(t){_.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){_.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){_.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},tt=new WeakMap,us),D,pt,mt,Kt,Wt,yt,Ht,Bt,hs,Qi=(hs=class{constructor(e={}){g(this,D);g(this,pt);g(this,mt);g(this,Kt);g(this,Wt);g(this,yt);g(this,Ht);g(this,Bt);f(this,D,e.queryCache||new vi),f(this,pt,e.mutationCache||new gi),f(this,mt,e.defaultOptions||{}),f(this,Kt,new Map),f(this,Wt,new Map),f(this,yt,0)}mount(){re(this,yt)._++,r(this,yt)===1&&(f(this,Ht,ke.subscribe(async e=>{e&&(await this.resumePausedMutations(),r(this,D).onFocus())})),f(this,Bt,he.subscribe(async e=>{e&&(await this.resumePausedMutations(),r(this,D).onOnline())})))}unmount(){var e,t;re(this,yt)._--,r(this,yt)===0&&((e=r(this,Ht))==null||e.call(this),f(this,Ht,void 0),(t=r(this,Bt))==null||t.call(this),f(this,Bt,void 0))}isFetching(e){return r(this,D).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return r(this,pt).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=r(this,D).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=r(this,D).build(this,t),i=s.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(gt(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return r(this,D).findAll(e).map(({queryKey:t,state:s})=>{const i=s.data;return[t,i]})}setQueryData(e,t,s){const i=this.defaultQueryOptions({queryKey:e}),n=r(this,D).get(i.queryHash),a=n==null?void 0:n.state.data,l=si(t,a);if(l!==void 0)return r(this,D).build(this,i).setData(l,{...s,manual:!0})}setQueriesData(e,t,s){return _.batch(()=>r(this,D).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=r(this,D).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=r(this,D);_.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=r(this,D);return _.batch(()=>(s.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},i=_.batch(()=>r(this,D).findAll(e).map(n=>n.cancel(s)));return Promise.all(i).then(N).catch(N)}invalidateQueries(e,t={}){return _.batch(()=>(r(this,D).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},i=_.batch(()=>r(this,D).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let a=n.fetch(void 0,s);return s.throwOnError||(a=a.catch(N)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(N)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=r(this,D).build(this,t);return s.isStaleByTime(gt(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(N).catch(N)}fetchInfiniteQuery(e){return e.behavior=Ve(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(N).catch(N)}ensureInfiniteQueryData(e){return e.behavior=Ve(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return he.isOnline()?r(this,pt).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,D)}getMutationCache(){return r(this,pt)}getDefaultOptions(){return r(this,mt)}setDefaultOptions(e){f(this,mt,e)}setQueryDefaults(e,t){r(this,Kt).set(xt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...r(this,Kt).values()],s={};return t.forEach(i=>{Jt(e,i.queryKey)&&Object.assign(s,i.defaultOptions)}),s}setMutationDefaults(e,t){r(this,Wt).set(xt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...r(this,Wt).values()],s={};return t.forEach(i=>{Jt(e,i.mutationKey)&&Object.assign(s,i.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...r(this,mt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=De(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ae&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...r(this,mt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){r(this,D).clear(),r(this,pt).clear()}},D=new WeakMap,pt=new WeakMap,mt=new WeakMap,Kt=new WeakMap,Wt=new WeakMap,yt=new WeakMap,Ht=new WeakMap,Bt=new WeakMap,hs);function Tt(e,t,s){let i=s.initialDeps??[],n;function a(){var l,o,u,h;let d;s.key&&((l=s.debug)!=null&&l.call(s))&&(d=Date.now());const c=e();if(!(c.length!==i.length||c.some((M,v)=>i[v]!==M)))return n;i=c;let w;if(s.key&&((o=s.debug)!=null&&o.call(s))&&(w=Date.now()),n=t(...c),s.key&&((u=s.debug)!=null&&u.call(s))){const M=Math.round((Date.now()-d)*100)/100,v=Math.round((Date.now()-w)*100)/100,b=v/16,S=(C,F)=>{for(C=String(C);C.length<F;)C=" "+C;return C};console.info(`%c⏱ ${S(v,5)} /${S(M,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,s==null?void 0:s.key)}return(h=s==null?void 0:s.onChange)==null||h.call(s,n),n}return a.updateDeps=l=>{i=l},a}function Je(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const bi=(e,t)=>Math.abs(e-t)<1.01,wi=(e,t,s)=>{let i;return function(...n){e.clearTimeout(i),i=e.setTimeout(()=>t.apply(this,n),s)}},Ye=e=>{const{offsetWidth:t,offsetHeight:s}=e;return{width:t,height:s}},Si=e=>e,Oi=e=>{const t=Math.max(e.startIndex-e.overscan,0),s=Math.min(e.endIndex+e.overscan,e.count-1),i=[];for(let n=t;n<=s;n++)i.push(n);return i},ji=(e,t)=>{const s=e.scrollElement;if(!s)return;const i=e.targetWindow;if(!i)return;const n=l=>{const{width:o,height:u}=l;t({width:Math.round(o),height:Math.round(u)})};if(n(Ye(s)),!i.ResizeObserver)return()=>{};const a=new i.ResizeObserver(l=>{const o=()=>{const u=l[0];if(u!=null&&u.borderBoxSize){const h=u.borderBoxSize[0];if(h){n({width:h.inlineSize,height:h.blockSize});return}}n(Ye(s))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return a.observe(s,{box:"border-box"}),()=>{a.unobserve(s)}},Ze={passive:!0},Xe=typeof window>"u"?!0:"onscrollend"in window,zi=(e,t)=>{const s=e.scrollElement;if(!s)return;const i=e.targetWindow;if(!i)return;let n=0;const a=e.options.useScrollendEvent&&Xe?()=>{}:wi(i,()=>{t(n,!1)},e.options.isScrollingResetDelay),l=d=>()=>{const{horizontal:c,isRtl:p}=e.options;n=c?s.scrollLeft*(p&&-1||1):s.scrollTop,a(),t(n,d)},o=l(!0),u=l(!1);u(),s.addEventListener("scroll",o,Ze);const h=e.options.useScrollendEvent&&Xe;return h&&s.addEventListener("scrollend",u,Ze),()=>{s.removeEventListener("scroll",o),h&&s.removeEventListener("scrollend",u)}},Ci=(e,t,s)=>{if(t!=null&&t.borderBoxSize){const i=t.borderBoxSize[0];if(i)return Math.round(i[s.options.horizontal?"inlineSize":"blockSize"])}return e[s.options.horizontal?"offsetWidth":"offsetHeight"]},_i=(e,{adjustments:t=0,behavior:s},i)=>{var n,a;const l=e+t;(a=(n=i.scrollElement)==null?void 0:n.scrollTo)==null||a.call(n,{[i.options.horizontal?"left":"top"]:l,behavior:s})};class Ui{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let s=null;const i=()=>s||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:s=new this.targetWindow.ResizeObserver(n=>{n.forEach(a=>{const l=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var n;(n=i())==null||n.disconnect(),s=null},observe:n=>{var a;return(a=i())==null?void 0:a.observe(n,{box:"border-box"})},unobserve:n=>{var a;return(a=i())==null?void 0:a.unobserve(n)}}})(),this.range=null,this.setOptions=s=>{Object.entries(s).forEach(([i,n])=>{typeof n>"u"&&delete s[i]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Si,rangeExtractor:Oi,onChange:()=>{},measureElement:Ci,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...s}},this.notify=s=>{var i,n;(n=(i=this.options).onChange)==null||n.call(i,this,s)},this.maybeNotify=Tt(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),s=>{this.notify(s)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(s=>s()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var s;const i=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==i){if(this.cleanup(),!i){this.maybeNotify();return}this.scrollElement=i,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((s=this.scrollElement)==null?void 0:s.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(s,i)=>{const n=new Map,a=new Map;for(let l=i-1;l>=0;l--){const o=s[l];if(n.has(o.lane))continue;const u=a.get(o.lane);if(u==null||o.end>u.end?a.set(o.lane,o):o.end<u.end&&n.set(o.lane,!0),n.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=Tt(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(s,i,n,a,l)=>(this.pendingMeasuredCacheIndexes=[],{count:s,paddingStart:i,scrollMargin:n,getItemKey:a,enabled:l}),{key:!1}),this.getMeasurements=Tt(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:s,paddingStart:i,scrollMargin:n,getItemKey:a,enabled:l},o)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const h=this.measurementsCache.slice(0,u);for(let d=u;d<s;d++){const c=a(d),p=this.options.lanes===1?h[d-1]:this.getFurthestMeasurement(h,d),w=p?p.end+this.options.gap:i+n,M=o.get(c),v=typeof M=="number"?M:this.options.estimateSize(d),b=w+v,S=p?p.lane:d%this.options.lanes;h[d]={index:d,start:w,size:v,end:b,key:c,lane:S}}return this.measurementsCache=h,h},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Tt(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(s,i,n,a)=>this.range=s.length>0&&i>0?Pi({measurements:s,outerSize:i,scrollOffset:n,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Tt(()=>{let s=null,i=null;const n=this.calculateRange();return n&&(s=n.startIndex,i=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,s,i]),[this.options.rangeExtractor,this.options.overscan,this.options.count,s,i]},(s,i,n,a,l)=>a===null||l===null?[]:s({startIndex:a,endIndex:l,overscan:i,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=s=>{const i=this.options.indexAttribute,n=s.getAttribute(i);return n?parseInt(n,10):(console.warn(`Missing attribute name '${i}={index}' on measured element.`),-1)},this._measureElement=(s,i)=>{const n=this.indexFromElement(s),a=this.measurementsCache[n];if(!a)return;const l=a.key,o=this.elementsCache.get(l);o!==s&&(o&&this.observer.unobserve(o),this.observer.observe(s),this.elementsCache.set(l,s)),s.isConnected&&this.resizeItem(n,this.options.measureElement(s,i,this))},this.resizeItem=(s,i)=>{const n=this.measurementsCache[s];if(!n)return;const a=this.itemSizeCache.get(n.key)??n.size,l=i-a;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,l,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,i)),this.notify(!1))},this.measureElement=s=>{if(!s){this.elementsCache.forEach((i,n)=>{i.isConnected||(this.observer.unobserve(i),this.elementsCache.delete(n))});return}this._measureElement(s,void 0)},this.getVirtualItems=Tt(()=>[this.getVirtualIndexes(),this.getMeasurements()],(s,i)=>{const n=[];for(let a=0,l=s.length;a<l;a++){const o=s[a],u=i[o];n.push(u)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=s=>{const i=this.getMeasurements();if(i.length!==0)return Je(i[Rs(0,i.length-1,n=>Je(i[n]).start,s)])},this.getOffsetForAlignment=(s,i,n=0)=>{const a=this.getSize(),l=this.getScrollOffset();i==="auto"&&(i=s>=l+a?"end":"start"),i==="center"?s+=(n-a)/2:i==="end"&&(s-=a);const o=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(o,s),0)},this.getOffsetForIndex=(s,i="auto")=>{s=Math.max(0,Math.min(s,this.options.count-1));const n=this.measurementsCache[s];if(!n)return;const a=this.getSize(),l=this.getScrollOffset();if(i==="auto")if(n.end>=l+a-this.options.scrollPaddingEnd)i="end";else if(n.start<=l+this.options.scrollPaddingStart)i="start";else return[l,i];const o=i==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,i,n.size),i]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(s,{align:i="start",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(s,i),{adjustments:void 0,behavior:n})},this.scrollToIndex=(s,{align:i="auto",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),s=Math.max(0,Math.min(s,this.options.count-1));let a=0;const l=10,o=h=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(s,h);if(!d){console.warn("Failed to get offset for index:",s);return}const[c,p]=d;this._scrollToOffset(c,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const w=this.getScrollOffset(),M=this.getOffsetForIndex(s,p);if(!M){console.warn("Failed to get offset for index:",s);return}bi(M[0],w)||u(p)})},u=h=>{this.targetWindow&&(a++,a<l?this.targetWindow.requestAnimationFrame(()=>o(h)):console.warn(`Failed to scroll to index ${s} after ${l} attempts.`))};o(i)},this.scrollBy=(s,{behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+s,{adjustments:void 0,behavior:i})},this.getTotalSize=()=>{var s;const i=this.getMeasurements();let n;if(i.length===0)n=this.options.paddingStart;else if(this.options.lanes===1)n=((s=i[i.length-1])==null?void 0:s.end)??0;else{const a=Array(this.options.lanes).fill(null);let l=i.length-1;for(;l>=0&&a.some(o=>o===null);){const o=i[l];a[o.lane]===null&&(a[o.lane]=o.end),l--}n=Math.max(...a.filter(o=>o!==null))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(s,{adjustments:i,behavior:n})=>{this.options.scrollToFn(s,{behavior:n,adjustments:i},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Rs=(e,t,s,i)=>{for(;e<=t;){const n=(e+t)/2|0,a=s(n);if(a<i)e=n+1;else if(a>i)t=n-1;else return n}return e>0?e-1:0};function Pi({measurements:e,outerSize:t,scrollOffset:s,lanes:i}){const n=e.length-1,a=u=>e[u].start;if(e.length<=i)return{startIndex:0,endIndex:n};let l=Rs(0,n,a,s),o=l;if(i===1)for(;o<n&&e[o].end<s+t;)o++;else if(i>1){const u=Array(i).fill(0);for(;o<n&&u.some(d=>d<s+t);){const d=e[o];u[d.lane]=d.end,o++}const h=Array(i).fill(s+t);for(;l>=0&&h.some(d=>d>=s);){const d=e[l];h[d.lane]=d.start,l--}l=Math.max(0,l-l%i),o=Math.min(n,o+(i-1-o%i))}return{startIndex:l,endIndex:o}}export{Dt as A,ki as M,Ai as Q,Ui as V,Bs as a,Ti as b,Ri as c,ps as d,Di as e,N as f,Ii as g,$t as h,At as i,oe as j,_i as k,ji as l,Fi as m,_ as n,zi as o,ce as p,Qi as q,xi as r,Ei as s};
//# sourceMappingURL=vendor-CqFCj2_q.js.map
