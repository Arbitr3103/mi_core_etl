# MI Core ETL - Модуль импорта данных из API Ozon

Проект для импорта данных из API Ozon в базу данных MySQL.

## Установка и настройка

1. Создайте виртуальное окружение:
```bash
python3 -m venv venv
source venv/bin/activate
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Настройте базу данных MySQL:
```bash
# Войдите в MySQL под администратором
sudo mysql

# Выполните SQL скрипт для создания БД, таблиц и пользователя
source create_tables.sql

# ВАЖНО: Замените пароль в скрипте на надежный!
```

4. Настройте файл `.env` с вашими учетными данными:
- Укажите пароль для пользователя `ingest_user`
- Добавьте Client ID и API Key от Ozon

**⚠️ ВАЖНО ПО БЕЗОПАСНОСТИ:**
- Используйте только пользователя `ingest_user`, НЕ `root`
- Установите надежный пароль для `ingest_user`
- Пользователь имеет только необходимые права: SELECT, INSERT, UPDATE

## Структура проекта

- `importers/ozon_importer.py` - основной модуль импорта данных из Ozon
- `main.py` - точка входа для запуска импорта
- `requirements.txt` - зависимости проекта
- `.env` - конфигурационный файл с учетными данными

## Использование

Запустите импорт данных:
```bash
python main.py
```

## Структура таблиц

Проект работает с следующими таблицами в базе данных:
- `dim_products` - справочник товаров
- `fact_orders` - факты заказов
- `fact_transactions` - финансовые транзакции
- `raw_events` - сырые данные из API
