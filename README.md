# ๐ฆ ะกะธััะตะผะฐ ะฟะพะฟะพะปะฝะตะฝะธั ัะบะปะฐะดะฐ

ะะฝัะตะปะปะตะบััะฐะปัะฝะฐั ัะธััะตะผะฐ ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะฐะฝะฐะปะธะทะฐ ะทะฐะฟะฐัะพะฒ ะธ ะณะตะฝะตัะฐัะธะธ ัะตะบะพะผะตะฝะดะฐัะธะน ะฟะพ ะฟะพะฟะพะปะฝะตะฝะธั ัะพะฒะฐัะพะฒ ะฝะฐ ัะบะปะฐะดะต.

## ๐ฏ ะัะฝะพะฒะฝัะต ะฒะพะทะผะพะถะฝะพััะธ

- **ะะฝะฐะปะธะท ัะตะบััะธั ะทะฐะฟะฐัะพะฒ** - ะผะพะฝะธัะพัะธะฝะณ ะพััะฐัะบะพะฒ ัะพะฒะฐัะพะฒ ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ
- **ะะฐััะตั ัะบะพัะพััะธ ะฟัะพะดะฐะถ** - ะฐะฝะฐะปะธะท ััะตะฝะดะพะฒ ะฟัะพะดะฐะถ ะทะฐ ัะฐะทะฝัะต ะฟะตัะธะพะดั
- **ะะตะฝะตัะฐัะธั ัะตะบะพะผะตะฝะดะฐัะธะน** - ะฐะฒัะพะผะฐัะธัะตัะบะธะต ัะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะฟะพะฟะพะปะฝะตะฝะธั ั ะฟัะธะพัะธัะธะทะฐัะธะตะน
- **ะกะธััะตะผะฐ ะฐะปะตััะพะฒ** - ัะฒะตะดะพะผะปะตะฝะธั ะพ ะบัะธัะธัะตัะบะธั ะพััะฐัะบะฐั ะธ ะผะตะดะปะตะฝะฝะพ ะดะฒะธะถััะธััั ัะพะฒะฐัะฐั
- **ะะพะผะฟะปะตะบัะฝะฐั ะพััะตัะฝะพััั** - ะดะตัะฐะปัะฝัะต ะพััะตัั ะธ ะฐะฝะฐะปะธัะธะบะฐ ะฟะพ ะทะฐะฟะฐัะฐะผ
- **REST API** - ะฟัะพะณัะฐะผะผะฝัะน ะธะฝัะตััะตะนั ะดะปั ะธะฝัะตะณัะฐัะธะธ ั ะดััะณะธะผะธ ัะธััะตะผะฐะผะธ
- **ะะตะฑ-ะธะฝัะตััะตะนั** - ัะดะพะฑะฝะฐั ะฟะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั

## ๐๏ธ ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   ะะตะฑ-ะธะฝัะตััะตะนั โ    โ    REST API     โ    โ   ะะปะฐะฝะธัะพะฒัะธะบ   โ
โโโโโโโโโโโฌโโโโโโโโ    โโโโโโโโโโโฌโโโโโโโโ    โโโโโโโโโโโฌโโโโโโโโ
          โ                      โ                      โ
          โโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโ
                    โ     ะัะบะตัััะฐัะพั             โ
                    โ  (ReplenishmentOrchestrator)โ
                    โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                                  โ
        โโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโ
        โ                         โ                         โ
โโโโโโโโโผโโโโโโโโโ    โโโโโโโโโโโโโผโโโโโโโโโโโ    โโโโโโโโโโโผโโโโโโโโโ
โ ะะฝะฐะปะธะทะฐัะพั     โ    โ ะะฐะปัะบัะปััะพั ัะบะพัะพััะธ โ    โ ะะตะฝะตัะฐัะพั        โ
โ ะทะฐะฟะฐัะพะฒ        โ    โ ะฟัะพะดะฐะถ               โ    โ ัะตะบะพะผะตะฝะดะฐัะธะน     โ
โโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
        โ                         โ                         โ
        โโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                  โ
        โโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโ
        โ                         โ                         โ
โโโโโโโโโผโโโโโโโโโ    โโโโโโโโโโโโโผโโโโโโโโโโโ    โโโโโโโโโโโผโโโโโโโโโ
โ ะะตะฝะตะดะถะตั       โ    โ ะะฒะธะถะพะบ ะพััะตัะฝะพััะธ    โ    โ ะะฐะทะฐ ะดะฐะฝะฝัั      โ
โ ะฐะปะตััะพะฒ        โ    โ                      โ    โ MySQL            โ
โโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะพะผะฟะพะฝะตะฝัั ัะธััะตะผั

### ะัะฝะพะฒะฝัะต ะผะพะดัะปะธ

1. **inventory_analyzer.py** - ะะฝะฐะปะธะท ัะตะบััะธั ะทะฐะฟะฐัะพะฒ
2. **sales_velocity_calculator.py** - ะะฐััะตั ัะบะพัะพััะธ ะฟัะพะดะฐะถ ะธ ััะตะฝะดะพะฒ
3. **replenishment_recommender.py** - ะะตะฝะตัะฐัะธั ัะตะบะพะผะตะฝะดะฐัะธะน ะฟะพ ะฟะพะฟะพะปะฝะตะฝะธั
4. **alert_manager.py** - ะกะธััะตะผะฐ ัะฒะตะดะพะผะปะตะฝะธะน ะธ ะฐะปะตััะพะฒ
5. **reporting_engine.py** - ะกะพะทะดะฐะฝะธะต ะพััะตัะพะฒ ะธ ะฐะฝะฐะปะธัะธะบะธ
6. **replenishment_orchestrator.py** - ะะพะพัะดะธะฝะฐัะธั ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ
7. **schedule_replenishment.py** - ะะปะฐะฝะธัะพะฒัะธะบ ะฐะฒัะพะผะฐัะธัะตัะบะธั ะทะฐะดะฐั

### API ะธ ะธะฝัะตััะตะนัั

8. **simple_api_server.py** - REST API ัะตัะฒะตั
9. **replenishment_api.py** - ะะฐััะธัะตะฝะฝัะน API ั Flask (ะพะฟัะธะพะฝะฐะปัะฝะพ)

### ะฃัะธะปะธัั ะธ ะฝะฐัััะพะนะบะฐ

10. **create_replenishment_schema.sql** - ะกัะตะผะฐ ะฑะฐะทั ะดะฐะฝะฝัั
11. **test_replenishment_simple.py** - ะะฐะฑะพั ัะตััะพะฒ
12. **requirements.txt** - ะะฐะฒะธัะธะผะพััะธ Python

## ๐ ะัััััะน ััะฐัั

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
# ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน
git clone <repository-url>
cd inventory-replenishment

# ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ Python
pip install -r requirements.txt
```

### 2. ะะฐัััะพะนะบะฐ ะฑะฐะทั ะดะฐะฝะฝัั

```bash
# ะกะพะทะดะฐะนัะต ะฑะฐะทั ะดะฐะฝะฝัั MySQL
mysql -u root -p -e "CREATE DATABASE replenishment_db;"

# ะัะฟะพะปะฝะธัะต ะผะธะณัะฐัะธั ััะตะผั
mysql -u root -p replenishment_db < create_replenishment_schema.sql
```

### 3. ะะฐัััะพะนะบะฐ ะฟะพะดะบะปััะตะฝะธั

ะััะตะดะฐะบัะธััะนัะต ัะฐะนะป `importers/config.py`:

```python
DB_CONFIG = {
    'host': 'localhost',
    'user': 'your_username',
    'password': 'your_password',
    'database': 'replenishment_db'
}
```

### 4. ะะฐะฟััะบ ัะธััะตะผั

```bash
# ะะฐะฟััะบ ะฟะพะปะฝะพะณะพ ะฐะฝะฐะปะธะทะฐ
python3 replenishment_orchestrator.py --mode full

# ะะฐะฟััะบ API ัะตัะฒะตัะฐ
python3 simple_api_server.py

# ะะฐะฟััะบ ะฟะปะฐะฝะธัะพะฒัะธะบะฐ
python3 schedule_replenishment.py --mode schedule
```

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะพะผะฐะฝะดะฝะฐั ัััะพะบะฐ

```bash
# ะะพะปะฝัะน ะฐะฝะฐะปะธะท ะฟะพะฟะพะปะฝะตะฝะธั
python3 replenishment_orchestrator.py --mode full

# ะััััะฐั ะฟัะพะฒะตัะบะฐ ะบัะธัะธัะตัะบะธั ะพััะฐัะบะพะฒ
python3 replenishment_orchestrator.py --mode quick

# ะญะบัะฟะพัั ัะตะบะพะผะตะฝะดะฐัะธะน ะฒ CSV
python3 replenishment_orchestrator.py --mode export --export-file report.csv --export-format csv

# ะะฐะฟััะบ ัะพะปัะบะพ ะดะปั ะพะฟัะตะดะตะปะตะฝะฝะพะณะพ ะธััะพัะฝะธะบะฐ
python3 replenishment_orchestrator.py --mode full --source ozon
```

### REST API

```bash
# ะะพะปััะธัั ัะตะบะพะผะตะฝะดะฐัะธะธ
curl http://localhost:8000/api/recommendations

# ะะพะปััะธัั ะฐะปะตััั
curl http://localhost:8000/api/alerts

# ะะฐะฟัััะธัั ะฐะฝะฐะปะธะท
curl -X POST http://localhost:8000/api/analysis/run

# ะัะพะฒะตัะธัั ะทะดะพัะพะฒัะต ัะธััะตะผั
curl http://localhost:8000/api/health
```

### ะะตะฑ-ะธะฝัะตััะตะนั

ะัะบัะพะนัะต ะฑัะฐัะทะตั ะธ ะฟะตัะตะนะดะธัะต ะฟะพ ะฐะดัะตัั: http://localhost:8000

## ๐ง ะะพะฝัะธะณััะฐัะธั

### ะะฐัััะพะนะบะธ ัะพะฒะฐัะพะฒ

ะกะธััะตะผะฐ ะฟะพะดะดะตัะถะธะฒะฐะตั ะธะฝะดะธะฒะธะดัะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ ะดะปั ะบะฐะถะดะพะณะพ ัะพะฒะฐัะฐ:

- `min_stock_level` - ะะธะฝะธะผะฐะปัะฝัะน ััะพะฒะตะฝั ะทะฐะฟะฐัะพะฒ
- `reorder_point` - ะขะพัะบะฐ ะฟะตัะตะทะฐะบะฐะทะฐ
- `lead_time_days` - ะัะตะผั ะฟะพััะฐะฒะบะธ ะฒ ะดะฝัั
- `safety_stock_days` - ะกััะฐัะพะฒะพะน ะทะฐะฟะฐั ะฒ ะดะฝัั
- `is_active` - ะะบัะธะฒะฝะพััั ัะพะฒะฐัะฐ

### ะะฐัััะพะนะบะธ ัะธััะตะผั

ะะปะพะฑะฐะปัะฝัะต ะฝะฐัััะพะนะบะธ ััะฐะฝัััั ะฒ ัะฐะฑะปะธัะต `replenishment_settings`:

```sql
INSERT INTO replenishment_settings (category, setting_key, setting_value, setting_type) VALUES
('ANALYSIS', 'critical_stockout_threshold', '3', 'INTEGER'),
('ANALYSIS', 'high_priority_threshold', '7', 'INTEGER'),
('NOTIFICATIONS', 'enable_email_alerts', 'true', 'BOOLEAN');
```

## ๐ ะะปะณะพัะธัะผั ะธ ะปะพะณะธะบะฐ

### ะะฐััะตั ัะตะบะพะผะตะฝะดัะตะผะพะณะพ ะบะพะปะธัะตััะฒะฐ

```
ะะพััะตะฑะฝะพััั ะฝะฐ ะฒัะตะผั ะฟะพััะฐะฒะบะธ = ะกะบะพัะพััั ะฟัะพะดะฐะถ ร ะัะตะผั ะฟะพััะฐะฒะบะธ
ะกััะฐัะพะฒะพะน ะทะฐะฟะฐั = ะกะบะพัะพััั ะฟัะพะดะฐะถ ร ะะฝะธ ัััะฐัะพะฒะพะณะพ ะทะฐะฟะฐัะฐ
ะฆะตะปะตะฒะพะน ััะพะฒะตะฝั = ะะพััะตะฑะฝะพััั + ะกััะฐัะพะฒะพะน ะทะฐะฟะฐั
ะะตะบะพะผะตะฝะดัะตะผัะน ะทะฐะบะฐะท = ะฆะตะปะตะฒะพะน ััะพะฒะตะฝั - ะะพัััะฟะฝัะน ะพััะฐัะพะบ
```

### ะะฟัะตะดะตะปะตะฝะธะต ะฟัะธะพัะธัะตัะฐ

- **CRITICAL** - ะะฝะธ ะดะพ ะธััะตัะฟะฐะฝะธั โค 3 ะธะปะธ ะพััะฐัะพะบ = 0
- **HIGH** - ะะฝะธ ะดะพ ะธััะตัะฟะฐะฝะธั โค 7 ะธะปะธ ะฝะธะถะต ัะพัะบะธ ะฟะตัะตะทะฐะบะฐะทะฐ
- **MEDIUM** - ะะฝะธ ะดะพ ะธััะตัะฟะฐะฝะธั โค 14
- **LOW** - ะััะฐะปัะฝัะต ัะปััะฐะธ

### ะะฝะฐะปะธะท ััะตะฝะดะพะฒ ะฟัะพะดะฐะถ

- **GROWING** - ะกะบะพัะพััั ะฟัะพะดะฐะถ ัะฐััะตั (7ะด > 14ะด > 30ะด)
- **DECLINING** - ะกะบะพัะพััั ะฟัะพะดะฐะถ ะฟะฐะดะฐะตั (7ะด < 14ะด < 30ะด)
- **STABLE** - ะะพะปะตะฑะฐะฝะธั ะผะตะฝะตะต 20%

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะฐะปะตััั

### ะขะธะฟั ะฐะปะตััะพะฒ

1. **STOCKOUT_CRITICAL** - ะัะธัะธัะตัะบะธะน ะพััะฐัะพะบ ัะพะฒะฐัะฐ
2. **STOCKOUT_WARNING** - ะัะตะดัะฟัะตะถะดะตะฝะธะต ะพ ะฝะธะทะบะพะผ ะพััะฐัะบะต
3. **SLOW_MOVING** - ะะตะดะปะตะฝะฝะพ ะดะฒะธะถััะธะนัั ัะพะฒะฐั (>30 ะดะฝะตะน ะฑะตะท ะฟัะพะดะฐะถ)
4. **OVERSTOCKED** - ะะทะฑััะพัะฝัะต ะทะฐะฟะฐัั (ะพะฑะพัะฐัะธะฒะฐะตะผะพััั >90 ะดะฝะตะน)

### ะะฐะฝะฐะปั ัะฒะตะดะพะผะปะตะฝะธะน

- Email ัะฒะตะดะพะผะปะตะฝะธั ะดะปั ะบัะธัะธัะตัะบะธั ะฐะปะตััะพะฒ
- ะะตะฑ-ะดะฐัะฑะพัะด ั ะฐะบััะฐะปัะฝัะผะธ ะฐะปะตััะฐะผะธ
- API ะดะปั ะธะฝัะตะณัะฐัะธะธ ั ะฒะฝะตัะฝะธะผะธ ัะธััะตะผะฐะผะธ

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

```bash
# ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ
python3 test_replenishment_simple.py

# ะะฐะฟััะบ ะบะพะฝะบัะตัะฝะพะณะพ ัะตััะฐ
python3 -m unittest test_replenishment_simple.TestBusinessLogic.test_priority_levels_ordering
```

## ๐ ะััะตัะฝะพััั

### ะขะธะฟั ะพััะตัะพะฒ

1. **ะะพะผะฟะปะตะบัะฝัะน ะพััะตั** - ะะพะปะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ ะฟะพ ะทะฐะฟะฐัะฐะผ ะธ ะฟัะพะดะฐะถะฐะผ
2. **ะััะตั ะฟะพ ัะตะบะพะผะตะฝะดะฐัะธัะผ** - ะกะฟะธัะพะบ ัะพะฒะฐัะพะฒ ะดะปั ะฟะพะฟะพะปะฝะตะฝะธั
3. **ะััะตั ะฟะพ ะฐะปะตััะฐะผ** - ะัะธัะธัะตัะบะธะต ัะธััะฐัะธะธ
4. **ะััะตั ะฟะพ ะผะตะดะปะตะฝะฝะพ ะดะฒะธะถััะธะผัั ัะพะฒะฐัะฐะผ** - ะะฝะฐะปะธะท ะฝะตะปะธะบะฒะธะดะพะฒ

### ะคะพัะผะฐัั ัะบัะฟะพััะฐ

- JSON - ะดะปั ะฟัะพะณัะฐะผะผะฝะพะน ะพะฑัะฐะฑะพัะบะธ
- CSV - ะดะปั Excel ะธ ะฐะฝะฐะปะธัะธะบะธ
- HTML - ะดะปั ะฟัะพัะผะพััะฐ ะฒ ะฑัะฐัะทะตัะต

## ๐ ะะฒัะพะผะฐัะธะทะฐัะธั

### ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั

```bash
# ะะฐะฟััะบ ะฟะปะฐะฝะธัะพะฒัะธะบะฐ
python3 schedule_replenishment.py --mode schedule

# ะััะฝะพะน ะทะฐะฟััะบ ะทะฐะดะฐัะธ
python3 schedule_replenishment.py --mode manual --task full
```

### ะะฐัะฟะธัะฐะฝะธะต ะฟะพ ัะผะพะปัะฐะฝะธั

- **ะะพะปะฝัะน ะฐะฝะฐะปะธะท** - ะบะฐะถะดัะน ะดะตะฝั ะฒ 06:00
- **ะััััะฐั ะฟัะพะฒะตัะบะฐ** - ะบะฐะถะดัะต 4 ัะฐัะฐ (08:00, 12:00, 16:00, 20:00)
- **ะัะธััะบะฐ ะพััะตัะพะฒ** - ะบะฐะถะดะพะต ะฒะพัะบัะตัะตะฝัะต ะฒ 02:00

## ๐ ะะฐะทะฒะตัััะฒะฐะฝะธะต

### Docker (ัะตะบะพะผะตะฝะดัะตััั)

```bash
# ะกะฑะพัะบะฐ ะพะฑัะฐะทะฐ
docker build -t replenishment-system .

# ะะฐะฟััะบ ะบะพะฝัะตะนะฝะตัะฐ
docker run -d -p 8000:8000 --name replenishment replenishment-system
```

### Systemd ัะตัะฒะธั

```bash
# ะะพะฟะธัะพะฒะฐะฝะธะต ัะฐะนะปะฐ ัะตัะฒะธัะฐ
sudo cp deployment/replenishment.service /etc/systemd/system/

# ะะฐะฟััะบ ัะตัะฒะธัะฐ
sudo systemctl enable replenishment
sudo systemctl start replenishment
```

## ๐ง ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะงะฐัััะต ะฟัะพะฑะปะตะผั

1. **ะัะธะฑะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ ะะ**

   ```
   ะัะพะฒะตัััะต ะฝะฐัััะพะนะบะธ ะฒ config.py
   ะฃะฑะตะดะธัะตัั ััะพ MySQL ัะตัะฒะตั ะทะฐะฟััะตะฝ
   ```

2. **ะะตั ัะตะบะพะผะตะฝะดะฐัะธะน**

   ```
   ะัะพะฒะตัััะต ะฝะฐะปะธัะธะต ะดะฐะฝะฝัั ะพ ะฟัะพะดะฐะถะฐั
   ะฃะฑะตะดะธัะตัั ััะพ ัะพะฒะฐัั ะฐะบัะธะฒะฝั (is_active = TRUE)
   ```

3. **ะะตะดะปะตะฝะฝะฐั ัะฐะฑะพัะฐ**
   ```
   ะะพะฑะฐะฒััะต ะธะฝะดะตะบัั ะฒ ะฑะฐะทั ะดะฐะฝะฝัั
   ะะณัะฐะฝะธัััะต ะบะพะปะธัะตััะฒะพ ะฐะฝะฐะปะธะทะธััะตะผัั ัะพะฒะฐัะพะฒ
   ```

### ะะพะณะธ

ะะพะณะธ ัะธััะตะผั ัะพััะฐะฝััััั ะฒ ัะฐะนะปั:

- `replenishment_orchestrator.log` - ะัะฝะพะฒะฝัะต ะพะฟะตัะฐัะธะธ
- `replenishment_scheduler.log` - ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั

## ๐ API ะะพะบัะผะตะฝัะฐัะธั

### ะญะฝะดะฟะพะธะฝัั

| ะะตัะพะด | URL                            | ะะฟะธัะฐะฝะธะต                   |
| ----- | ------------------------------ | -------------------------- |
| GET   | `/api/health`                  | ะัะพะฒะตัะบะฐ ัะพััะพัะฝะธั ัะธััะตะผั |
| GET   | `/api/recommendations`         | ะะพะปััะธัั ัะตะบะพะผะตะฝะดะฐัะธะธ      |
| GET   | `/api/recommendations/{id}`    | ะะตะบะพะผะตะฝะดะฐัะธั ะดะปั ัะพะฒะฐัะฐ    |
| GET   | `/api/alerts`                  | ะะพะปััะธัั ะฐะปะตััั            |
| POST  | `/api/alerts/{id}/acknowledge` | ะะพะดัะฒะตัะดะธัั ะฐะปะตัั          |
| POST  | `/api/analysis/run`            | ะะฐะฟัััะธัั ะฐะฝะฐะปะธะท           |
| GET   | `/api/reports/comprehensive`   | ะะพะผะฟะปะตะบัะฝัะน ะพััะตั          |

### ะะฐัะฐะผะตััั ะทะฐะฟัะพัะพะฒ

**GET /api/recommendations**

- `limit` (int) - ะะฐะบัะธะผะฐะปัะฝะพะต ะบะพะปะธัะตััะฒะพ (ะฟะพ ัะผะพะปัะฐะฝะธั: 50)
- `priority` (string) - ะคะธะปััั ะฟะพ ะฟัะธะพัะธัะตัั (CRITICAL, HIGH, MEDIUM, LOW)
- `source` (string) - ะคะธะปััั ะฟะพ ะธััะพัะฝะธะบั ะดะฐะฝะฝัั

**POST /api/analysis/run**

```json
{
  "source": "ozon",
  "save_to_db": true,
  "send_alerts": true
}
```

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. ะคะพัะบะฝะธัะต ัะตะฟะพะทะธัะพัะธะน
2. ะกะพะทะดะฐะนัะต ะฒะตัะบั ะดะปั ะฝะพะฒะพะน ััะฝะบัะธะธ (`git checkout -b feature/amazing-feature`)
3. ะะฐัะธะบัะธััะนัะต ะธะทะผะตะฝะตะฝะธั (`git commit -m 'Add amazing feature'`)
4. ะัะฟัะฐะฒััะต ะฒ ะฒะตัะบั (`git push origin feature/amazing-feature`)
5. ะัะบัะพะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

ะญัะพั ะฟัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน MIT. ะกะผ. ัะฐะนะป `LICENSE` ะดะปั ะฟะพะดัะพะฑะฝะพััะตะน.

## ๐ฅ ะะฒัะพัั

- **ะะพะผะฐะฝะดะฐ ัะฐะทัะฐะฑะพัะบะธ** - ะกะธััะตะผะฐ ะฟะพะฟะพะปะฝะตะฝะธั ัะบะปะฐะดะฐ

## ๐ ะะปะฐะณะพะดะฐัะฝะพััะธ

- ะะพะผะฐะฝะดะต ะทะฐ ัะฐะทัะฐะฑะพัะบั ะฐััะธัะตะบัััั ัะธััะตะผั
- ะขะตััะธัะพะฒัะธะบะฐะผ ะทะฐ ะพะฑะตัะฟะตัะตะฝะธะต ะบะฐัะตััะฒะฐ
- ะะพะปัะทะพะฒะฐัะตะปัะผ ะทะฐ ะพะฑัะฐัะฝัั ัะฒัะทั

---

๐ **ะะพะดะดะตัะถะบะฐ**: ะัะปะธ ั ะฒะฐั ะตััั ะฒะพะฟัะพัั ะธะปะธ ะฟัะพะฑะปะตะผั, ัะพะทะดะฐะนัะต issue ะฒ ัะตะฟะพะทะธัะพัะธะธ ะธะปะธ ัะฒัะถะธัะตัั ั ะบะพะผะฐะฝะดะพะน ัะฐะทัะฐะฑะพัะบะธ.

## ๐ ะะฐะทะฒะตัััะฒะฐะฝะธะต

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ (macOS)

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:**

```bash
git clone <repository-url>
cd mi_core_etl
```

2. **ะฃััะฐะฝะพะฒะธัะต MySQL ัะตัะตะท Homebrew:**

```bash
brew install mysql
brew services start mysql
```

3. **ะะฐัััะพะนัะต ะฑะฐะทั ะดะฐะฝะฝัั:**

```bash
# ะกะพะทะดะฐะนัะต ะฑะฐะทั ะดะฐะฝะฝัั ะธ ะฟะพะปัะทะพะฒะฐัะตะปั
mysql -u root < setup_mysql_user.sql

# ะัะธะผะตะฝะธัะต ััะตะผั
mysql -u replenishment_user -p'K9#mP2$vQx!8LbN&wZr4FjD7sHq' replenishment_db < create_replenishment_schema_safe.sql
```

4. **ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:**

```bash
python3 -m venv venv
source venv/bin/activate
pip install mysql-connector-python requests
```

5. **ะะฐะฟัััะธัะต ัะธััะตะผั:**

```bash
python3 simple_api_server.py
```

6. **ะัะพะฒะตัััะต ัะฐะฑะพัั:**

```bash
curl http://localhost:8000/api/health
```

### ะะฐะทะฒะตัััะฒะฐะฝะธะต ะฝะฐ ะพะฑะปะฐัะฝะพะผ ัะตัะฒะตัะต (Ubuntu)

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน ะฝะฐ ัะตัะฒะตัะต:**

```bash
git clone <repository-url>
cd mi_core_etl
```

2. **ะะฐะฟัััะธัะต ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต:**

```bash
chmod +x deploy_cloud_server.sh
./deploy_cloud_server.sh
```

ะกะบัะธะฟั ะฐะฒัะพะผะฐัะธัะตัะบะธ:

- ะฃััะฐะฝะพะฒะธั MySQL ะธ Python ะทะฐะฒะธัะธะผะพััะธ
- ะกะพะทะดะฐัั ะฑะฐะทั ะดะฐะฝะฝัั ะธ ะฟะพะปัะทะพะฒะฐัะตะปั ั ะฑะตะทะพะฟะฐัะฝัะผ ะฟะฐัะพะปะตะผ
- ะะฐัััะพะธั systemd ัะตัะฒะธั ะดะปั ะฐะฒัะพะทะฐะฟััะบะฐ
- ะะฐัััะพะธั nginx ะบะฐะบ reverse proxy (ะตัะปะธ ัััะฐะฝะพะฒะปะตะฝ)
- ะะฐัััะพะธั firewall ะดะปั ะฑะตะทะพะฟะฐัะฝะพััะธ

3. **ะัะพะฒะตัััะต ััะฐััั ัะตัะฒะธัะฐ:**

```bash
sudo systemctl status replenishment-api
curl http://localhost:8000/api/health
```

## ๐ง ะฃะฟัะฐะฒะปะตะฝะธะต ัะตัะฒะธัะพะผ ะฝะฐ ัะตัะฒะตัะต

```bash
# ะกัะฐััั ัะตัะฒะธัะฐ
sudo systemctl status replenishment-api

# ะะตัะตะทะฐะฟััะบ ัะตัะฒะธัะฐ
sudo systemctl restart replenishment-api

# ะัะพัะผะพัั ะปะพะณะพะฒ
sudo journalctl -u replenishment-api -f

# ะััะฐะฝะพะฒะบะฐ ัะตัะฒะธัะฐ
sudo systemctl stop replenishment-api
```

## ๐ API Endpoints

ะะพัะปะต ะทะฐะฟััะบะฐ ัะธััะตะผะฐ ะดะพัััะฟะฝะฐ ะฟะพ ัะปะตะดัััะธะผ ะฐะดัะตัะฐะผ:

- **ะะตะฑ-ะธะฝัะตััะตะนั**: http://localhost:8000
- **ะัะพะฒะตัะบะฐ ะทะดะพัะพะฒัั**: http://localhost:8000/api/health
- **ะะตะบะพะผะตะฝะดะฐัะธะธ**: http://localhost:8000/api/recommendations
- **ะะปะตััั**: http://localhost:8000/api/alerts
- **ะััะตัั**: http://localhost:8000/api/reports
- **ะัััััะน ะฐะฝะฐะปะธะท**: http://localhost:8000/api/analysis/run

## ๐ ะขะตััะธัะพะฒะฐะฝะธะต

```bash
# ะขะตััะธัะพะฒะฐะฝะธะต ะฟะพะดะบะปััะตะฝะธั ะบ ะะ
python3 replenishment_db_connector.py

# ะขะตััะธัะพะฒะฐะฝะธะต ะบะพะผะฟะพะฝะตะฝัะพะฒ
python3 test_components_init.py

# ะขะตััะธัะพะฒะฐะฝะธะต API
curl http://localhost:8000/api/health
```
