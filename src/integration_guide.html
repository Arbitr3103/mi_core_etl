<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Country Filter</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }
      .code-block {
        background: #f4f4f4;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 15px;
        margin: 10px 0;
        overflow-x: auto;
      }
      .code-block pre {
        margin: 0;
      }
      .step {
        background: #e7f3ff;
        border-left: 4px solid #007bff;
        padding: 15px;
        margin: 20px 0;
      }
      .warning {
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 15px;
        margin: 20px 0;
      }
      .success {
        background: #d4edda;
        border-left: 4px solid #28a745;
        padding: 15px;
        margin: 20px 0;
      }
      h1,
      h2,
      h3 {
        color: #333;
      }
      .file-path {
        background: #333;
        color: #fff;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <h1>üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Country Filter –Ω–∞ zavodprostavok.ru</h1>

    <div class="warning">
      <h3>‚ö†Ô∏è –í–∞–∂–Ω–æ!</h3>
      <p>
        –≠—Ç–æ—Ç —Ñ–∏–ª—å—Ç—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–∞–π—Ç
        <strong>zavodprostavok.ru</strong> –∏ –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
        <strong>178.72.129.61</strong>
      </p>
    </div>

    <div class="step">
      <h3>–®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ JavaScript —Ñ–∞–π–ª—ã</h3>
      <p>
        –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –≤ <code>&lt;head&gt;</code> –∏–ª–∏ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º
        <code>&lt;/body&gt;</code> –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ç–∞–ª–æ–≥–∞:
      </p>
      <div class="code-block">
        <pre><code>&lt;!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Country Filter --&gt;
&lt;script src="http://178.72.129.61/api/js/config.js"&gt;&lt;/script&gt;
&lt;script src="http://178.72.129.61/api/js/CountryFilter.js"&gt;&lt;/script&gt;

&lt;!-- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FilterManager --&gt;
&lt;script src="http://178.72.129.61/api/js/FilterManager.js"&gt;&lt;/script&gt;
&lt;script src="http://178.72.129.61/api/js/FilterManagerIntegration.js"&gt;&lt;/script&gt;</code></pre>
      </div>
    </div>

    <div class="step">
      <h3>–®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ HTML –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä</h3>
      <p>
        –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç HTML –∫–æ–¥ –≤ —Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–∏–ª—å—Ç—Ä –ø–æ
        —Å—Ç—Ä–∞–Ω–∞–º:
      </p>
      <div class="code-block">
        <pre><code>&lt;!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ —Å—Ç—Ä–∞–Ω --&gt;
&lt;div id="country-filter-container"&gt;&lt;/div&gt;</code></pre>
      </div>
    </div>

    <div class="step">
      <h3>–®–∞–≥ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä</h3>
      <p>–î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç JavaScript –∫–æ–¥ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫:</p>
      <div class="code-block">
        <pre><code>&lt;script&gt;
// –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ DOM
document.addEventListener('DOMContentLoaded', function() {
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞ —Å—Ç—Ä–∞–Ω
    const countryFilter = new CountryFilter('country-filter-container', function(selectedCountryId) {
        console.log('–í—ã–±—Ä–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∞ —Å ID:', selectedCountryId);
        
        // –ó–¥–µ—Å—å –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞–Ω—ã
        // –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
        if (selectedCountryId) {
            // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–≤–∞—Ä—ã –ø–æ —Å—Ç—Ä–∞–Ω–µ
            filterProductsByCountry(selectedCountryId);
        } else {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
            showAllProducts();
        }
    });
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–ø—Ä–∏–º–µ—Ä)
    function filterProductsByCountry(countryId) {
        // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
        console.log('–§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–≤–∞—Ä—ã –ø–æ —Å—Ç—Ä–∞–Ω–µ:', countryId);
        
        // –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ –≤–∞—à–µ–º—É API –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        // window.location.href = '/catalog?country_id=' + countryId;
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
    function showAllProducts() {
        console.log('–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã');
        // window.location.href = '/catalog';
    }
});
&lt;/script&gt;</code></pre>
      </div>
    </div>

    <div class="step">
      <h3>–®–∞–≥ 4: –°—Ç–∏–ª–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
      <p>–î–æ–±–∞–≤—å—Ç–µ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞:</p>
      <div class="code-block">
        <pre><code>&lt;style&gt;
.country-filter {
    margin-bottom: 20px;
}

.filter-label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.filter-select {
    width: 100%;
    max-width: 300px;
    padding: 8px 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    background: white;
    font-size: 14px;
}

.filter-loading {
    color: #007bff;
    font-style: italic;
    font-size: 12px;
}

.filter-error {
    color: #dc3545;
    font-size: 12px;
}

.retry-button {
    background: #007bff;
    color: white;
    border: none;
    padding: 4px 8px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 11px;
}
&lt;/style&gt;</code></pre>
      </div>
    </div>

    <div class="success">
      <h3>‚úÖ –ì–æ—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
      <p>–ü–æ–ª–Ω—ã–π –∫–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ç–∞–ª–æ–≥–∞:</p>
    </div>

    <div class="code-block">
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;!-- –í–∞—à–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–∞-—Ç–µ–≥–∏ –∏ —Å—Ç–∏–ª–∏ --&gt;
    
    &lt;!-- –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ —Å—Ç—Ä–∞–Ω --&gt;
    &lt;style&gt;
    .country-filter {
        margin-bottom: 20px;
    }
    .filter-label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }
    .filter-select {
        width: 100%;
        max-width: 300px;
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background: white;
        font-size: 14px;
    }
    .filter-loading {
        color: #007bff;
        font-style: italic;
        font-size: 12px;
    }
    .filter-error {
        color: #dc3545;
        font-size: 12px;
    }
    .retry-button {
        background: #007bff;
        color: white;
        border: none;
        padding: 4px 8px;
        border-radius: 3px;
        cursor: pointer;
        font-size: 11px;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- –í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç --&gt;
    
    &lt;!-- –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç—Ä–∞–Ω–∞–º (–≤—Å—Ç–∞–≤—å—Ç–µ –≤ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ) --&gt;
    &lt;div id="country-filter-container"&gt;&lt;/div&gt;
    
    &lt;!-- –í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫–∞—Ç–∞–ª–æ–≥–∞ --&gt;
    
    &lt;!-- JavaScript –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ —Å—Ç—Ä–∞–Ω --&gt;
    &lt;script src="http://178.72.129.61/api/js/CountryFilter.js"&gt;&lt;/script&gt;
    &lt;script&gt;
    document.addEventListener('DOMContentLoaded', function() {
        const countryFilter = new CountryFilter('country-filter-container', function(selectedCountryId) {
            console.log('–í—ã–±—Ä–∞–Ω–∞ —Å—Ç—Ä–∞–Ω–∞ —Å ID:', selectedCountryId);
            
            // –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ —ç—Ç—É —á–∞—Å—Ç—å –Ω–∞ –≤–∞—à—É –ª–æ–≥–∏–∫—É
            if (selectedCountryId) {
                // –ü—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
                const url = new URL(window.location);
                url.searchParams.set('country_id', selectedCountryId);
                window.location.href = url.toString();
            } else {
                // –£–±–∏—Ä–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç—Ä–∞–Ω–µ
                const url = new URL(window.location);
                url.searchParams.delete('country_id');
                window.location.href = url.toString();
            }
        });
    });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    </div>

    <div class="warning">
      <h3>üîß –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º</h3>
      <p>–ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:</p>
      <ul>
        <li>
          <strong>–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞</strong> (F12 ‚Üí Console) –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
        </li>
        <li>
          <strong>–°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã</strong> (F12 ‚Üí Network) - –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã
          –∫ 178.72.129.61
        </li>
        <li>
          <strong>CORS –æ—à–∏–±–∫–∏</strong> - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã —Å
          zavodprostavok.ru
        </li>
        <li>
          <strong>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤</strong> - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ
          CountryFilter.js –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
        </li>
      </ul>
    </div>

    <div class="step">
      <h3>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
      <p>–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Ñ–∏–ª—å—Ç—Ä–∞:</p>
      <ol>
        <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ç–∞–ª–æ–≥–∞ –Ω–∞ zavodprostavok.ru</li>
        <li>–ù–∞–π–¥–∏—Ç–µ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ "–°—Ç—Ä–∞–Ω–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è"</li>
        <li>–í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω—É</li>
        <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è</li>
        <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</li>
      </ol>
    </div>

    <div class="success">
      <h3>üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
      <p>–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:</p>
      <ul>
        <li>
          –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:
          <a
            href="http://178.72.129.61/api/test_api_endpoints.html"
            target="_blank"
            >http://178.72.129.61/api/test_api_endpoints.html</a
          >
        </li>
        <li>
          –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç:
          <a href="http://178.72.129.61/api/countries.php" target="_blank"
            >http://178.72.129.61/api/countries.php</a
          >
        </li>
        <li>
          –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API:
          <a href="http://178.72.129.61/api/" target="_blank"
            >http://178.72.129.61/api/</a
          >
        </li>
      </ul>
    </div>
  </body>
</html>
