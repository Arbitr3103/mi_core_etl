# Ozon ETL System - Production Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_ENV=production
APP_TIMEZONE=Europe/Moscow
APP_DEBUG=false

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
PG_HOST=localhost
PG_PORT=5432
PG_NAME=ozon_etl_prod
PG_USER=ozon_etl_user
PG_PASSWORD=your_secure_database_password_here

# Database connection pool settings
DB_MAX_CONNECTIONS=10
DB_CONNECTION_TIMEOUT=30
DB_IDLE_TIMEOUT=300

# =============================================================================
# OZON API CONFIGURATION
# =============================================================================
OZON_CLIENT_ID=your_ozon_client_id_here
OZON_API_KEY=your_ozon_api_key_here

# API rate limiting (requests per minute)
OZON_RATE_LIMIT=1000
OZON_BURST_LIMIT=50

# =============================================================================
# ETL PROCESSING SETTINGS
# =============================================================================
ETL_MEMORY_LIMIT=1024M
ETL_TIME_LIMIT=7200
ETL_BATCH_SIZE=1000
ETL_MAX_RETRIES=5

# Processing schedules (in minutes)
PRODUCT_SYNC_INTERVAL=240    # 4 hours
SALES_SYNC_INTERVAL=120      # 2 hours  
INVENTORY_SYNC_INTERVAL=60   # 1 hour

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_PATH=/opt/ozon-etl/Logs
LOG_MAX_FILES=30
LOG_MAX_SIZE=100M

# Enable/disable specific log types
LOG_API_REQUESTS=false
LOG_DATABASE_QUERIES=false
LOG_PERFORMANCE_METRICS=true

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================
MONITORING_ENABLED=true
HEALTH_CHECK_INTERVAL=300    # 5 minutes
ALERT_EMAIL=admin@yourcompany.com
ALERT_ON_FAILURES=true
ALERT_ON_PERFORMANCE_ISSUES=true

# Performance thresholds
MAX_EXECUTION_TIME_PRODUCTS=1800     # 30 minutes
MAX_EXECUTION_TIME_SALES=3600        # 60 minutes
MAX_EXECUTION_TIME_INVENTORY=1800    # 30 minutes

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_PATH=/opt/ozon-etl/backups
BACKUP_RETENTION_DAYS=30
BACKUP_BEFORE_MAJOR_OPERATIONS=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# SSL/TLS settings for database connections
DB_SSLMODE=require
DB_SSLCERT=/path/to/client-cert.pem
DB_SSLKEY=/path/to/client-key.pem
DB_SSLROOTCERT=/path/to/ca-cert.pem

# API security settings
API_VERIFY_SSL=true
API_TIMEOUT=30
API_CONNECT_TIMEOUT=10

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================
# Memory and processing limits
PHP_MEMORY_LIMIT=1024M
PHP_MAX_EXECUTION_TIME=7200
PHP_MAX_INPUT_TIME=300

# Database optimization
DB_STATEMENT_TIMEOUT=300
DB_LOCK_TIMEOUT=60
DB_IDLE_IN_TRANSACTION_TIMEOUT=300

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_DATA_VALIDATION=true
ENABLE_DUPLICATE_DETECTION=true
ENABLE_PERFORMANCE_PROFILING=false
ENABLE_DEBUG_MODE=false

# =============================================================================
# EXTERNAL INTEGRATIONS
# =============================================================================
# Webhook URLs for notifications (optional)
WEBHOOK_SUCCESS_URL=
WEBHOOK_ERROR_URL=
WEBHOOK_WARNING_URL=

# Slack integration (optional)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#etl-notifications

# Email notifications (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@yourcompany.com
SMTP_FROM_NAME="Ozon ETL System"