# Production Environment Configuration for Ozon Warehouse Stock Reports
# Requirements: 2.1, 2.2, 5.5

# ===================================================================
# DATABASE CONFIGURATION
# ===================================================================
DB_HOST=localhost
DB_NAME=mi_core_etl
DB_USER=ozon_etl_user
DB_PASSWORD=CHANGE_THIS_PASSWORD_IN_PRODUCTION
DB_CHARSET=utf8mb4
DB_PORT=3306

# Read-only database user for monitoring
DB_READONLY_USER=ozon_readonly_user
DB_READONLY_PASSWORD=CHANGE_THIS_READONLY_PASSWORD

# ===================================================================
# OZON API CONFIGURATION
# ===================================================================
OZON_CLIENT_ID=YOUR_OZON_CLIENT_ID
OZON_API_KEY=YOUR_OZON_API_KEY
OZON_API_BASE_URL=https://api-seller.ozon.ru
OZON_API_TIMEOUT=30
OZON_API_RETRY_ATTEMPTS=3
OZON_API_RETRY_DELAY=30

# ===================================================================
# ETL CONFIGURATION
# ===================================================================
ETL_SCHEDULE_TIME=06:00
ETL_TIMEZONE=UTC
ETL_MAX_EXECUTION_TIME=3600
ETL_BATCH_SIZE=1000
ETL_MEMORY_LIMIT=512M

# Report processing configuration
REPORT_TIMEOUT_MINUTES=60
REPORT_CHECK_INTERVAL_MINUTES=5
REPORT_MAX_RETRIES=3
REPORT_DOWNLOAD_TIMEOUT=300

# ===================================================================
# LOGGING CONFIGURATION
# ===================================================================
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/ozon_stock_reports.log
LOG_MAX_SIZE=100M
LOG_ROTATION_COUNT=10
LOG_DATE_FORMAT=Y-m-d H:i:s

# Error logging
ERROR_LOG_PATH=/var/log/ozon_stock_reports_errors.log
ERROR_NOTIFICATION_ENABLED=true

# ===================================================================
# MONITORING AND ALERTING
# ===================================================================
MONITORING_ENABLED=true
MONITORING_INTERVAL_MINUTES=15
HEALTH_CHECK_ENDPOINT=/api/health/ozon-stock-reports

# Alert thresholds
ALERT_CRITICAL_STOCK_THRESHOLD=10
ALERT_LOW_STOCK_THRESHOLD=50
ALERT_ETL_FAILURE_THRESHOLD=3
ALERT_API_ERROR_RATE_THRESHOLD=0.5

# Notification channels
NOTIFICATION_EMAIL_ENABLED=true
NOTIFICATION_EMAIL_TO=admin@yourcompany.com,inventory@yourcompany.com
NOTIFICATION_EMAIL_FROM=noreply@yourcompany.com
NOTIFICATION_SLACK_ENABLED=false
NOTIFICATION_SLACK_WEBHOOK_URL=

# ===================================================================
# SECURITY CONFIGURATION
# ===================================================================
SECURITY_ENCRYPTION_KEY=GENERATE_RANDOM_32_CHAR_KEY_HERE
SECURITY_API_RATE_LIMIT=100
SECURITY_API_RATE_WINDOW=3600
SECURITY_SESSION_TIMEOUT=1800

# File security
TEMP_FILE_DIR=/tmp/ozon_reports
TEMP_FILE_CLEANUP_HOURS=24
MAX_FILE_SIZE_MB=100

# ===================================================================
# PERFORMANCE CONFIGURATION
# ===================================================================
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=256

# Database connection pooling
DB_CONNECTION_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=30
DB_QUERY_TIMEOUT=60

# ===================================================================
# BACKUP CONFIGURATION
# ===================================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=false
BACKUP_NOTIFICATION=true

# ===================================================================
# DEVELOPMENT/DEBUG (SET TO FALSE IN PRODUCTION)
# ===================================================================
DEBUG_MODE=false
DEBUG_SQL_QUERIES=false
DEBUG_API_REQUESTS=false
PROFILING_ENABLED=false

# ===================================================================
# SYSTEM PATHS
# ===================================================================
APP_ROOT=/var/www/mi_core_etl
SRC_DIR=/var/www/mi_core_etl/src
LOG_DIR=/var/log
BACKUP_DIR=/var/backups/mysql
TEMP_DIR=/tmp

# ===================================================================
# CRON CONFIGURATION
# ===================================================================
CRON_USER=www-data
CRON_LOG_FILE=/var/log/ozon_cron.log
CRON_LOCK_FILE=/var/run/ozon_etl.lock

# ===================================================================
# MAINTENANCE WINDOWS
# ===================================================================
MAINTENANCE_WINDOW_START=02:00
MAINTENANCE_WINDOW_END=04:00
MAINTENANCE_TIMEZONE=UTC
MAINTENANCE_NOTIFICATION_ENABLED=true